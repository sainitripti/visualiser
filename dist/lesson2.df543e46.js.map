{"version":3,"sources":["src/utils.js","src/js/LessonTwoPreviewCard.js","src/js/lesson2.js"],"names":["file","file4","annotation","colors","red","lightGrey","boxData","width","height","depth","widthSegments","heightSegments","depthSegments","rotateX","rotateY","rotateZ","positionX","positionY","positionZ","geometry","THREE","BoxGeometry","material","MeshBasicMaterial","transparent","color","opacity","side","DoubleSide","wireframe","cube","Mesh","axialCube","coronalCube","sagittalCube","arrCube","generateGeometry","forEach","element","dispose","rotation","x","y","z","position","gui","dat","GUI","autoPlace","customContainer","document","getElementById","appendChild","domElement","boxFolder","addFolder","add","onChange","step","open","LessonTwoPreviewCard","id","guiId","box","scale","container","renderer","WebGLRenderer","antialias","setSize","offsetWidth","offsetHeight","setClearColor","setPixelRatio","window","devicePixelRatio","scene","Scene","camera","PerspectiveCamera","controls","AMI","TrackballControl","onWindowResize","aspect","updateProjectionMatrix","addEventListener","loader","VolumeLoader","load","then","series","data","mergeSeries","stack","free","stackHelper","StackHelper","bbox","visible","border","centerLPS","worldCenter","lookAt","target","set","catch","error","console","log","animate","update","render","requestAnimationFrame","camUtils","invertRows","invertColumns","rotate45","rotate","orientation","convention","stackFolder","dimensionsIJK","listen","slice","fetch","response","json","updateGeometries","generic","run"],"mappings":";;AEAA;;;;AACA;ADDA,ACGA,AFHA,IEGIM,OAAO,GAAG;AACVC,AFHJ,EEGIA,KAAK,EAAE,EADG;AAEVC,AFHG,EEGHA,EFHSR,IEGH,AFHO,EEGL,CFHQ,CECN,6EFDP;AEIHS,EAAAA,KAAK,EAAE,EAHG;AAIVC,AFJG,EEIHA,EFJST,KAAK,GAAG,GEIJ,EAAE,CAJL,gGFAP;AEKHU,EAAAA,cAAc,EAAE,CALN;AAMVC,AFLG,EEKHA,EFLSV,UAAU,CEKN,EAAE,AFLO,CEDZ,yEFCP;AEMHW,EAAAA,OAAO,EAAE,CAPC;AAQVC,AFLG,EEKHA,EDTiB8C,ADIRzD,KEKF,CFLQ,CEKN,CARC,CFGQ;ACFpB,ACQEY,AFLFX,EEKEW,AFLFX,GAAG,EAAE,EEKI,EAAE,CATC,GFGQ,iBCFRyD,EAAZ,EAAgBC,KAAhB,EAAuB;AAAA,ACSrB9C,AFLFX,EEKEW,AFLFX,SEKW,AFLF,EEKI,AFLF,CELC;AAWVY,AFRkB,CAAf,CEQHA,SAAS,EAAE,CAXD;ADEV,ACUAC,EAAAA,ODVK2C,EAAL,ACUS,EAAE,CDVDA,EAAV;AACA,ACHU,AFSP,CETP,GFSWvD,KCNFwD,EDMS,GCNd,ADMiB,GCNJA,KAAb;AACA,ACWJ+D,AFLItH,EAAAA,GEKC,CAAC,CFLG,ECNAuB,ADME,EADU,ECLjB,GAAY,IAAIV,KAAK,CAACW,IAAV,CAAgBZ,eAAhB,EAA0BG,eAA1B,CAAZ,YCWC,CAAL,CACCoE,IADD,CACM,UAAAoC,QAAQ,EAAI;ADXf,ACYA,AFNCtH,EAAAA,MAAM,CEMAsH,CFNE,EAFS,KEQH,CAACC,IAAT,EAAP;AACF,AFNGtH,CEGJ,CFHIA,CEOHiF,IAJD,AFHS,CEOH,CFPK,EAHU,OEUfE,IAAI,EAAI;AACZtF,AFPEI,EEOFJ,AFPEI,OEOK,GAAGkF,GFPK,CEOD,CAAC,AFPE,CAJE,QEWL,CAAd;AACAoC,AFPErH,EEOFqH,AFPErH,cAAc,EEOA,AFPE,CALC;AEapB,AFPGC,CEAJ,CFAIA,aAAa,EAAE,CANE,mBCFFmD,KAAK;AAEpB,ACeJ,AFRIlD,EAAAA,EEQAoH,KFRO,ECPFnG,ACeE,AFRE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","file":"lesson2.df543e46.js","sourceRoot":"..","sourcesContent":["//export const file = 'https://cdn.rawgit.com/FNNDSC/data/master/nifti/adi_brain/adi_brain.nii.gz';\r\n//export const file = '..//data//adi_brain.nii.gz';\r\nexport const file = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/adi_brain.nii.gz';\r\nexport const file4 = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/training_sa_crop_pat0_transformed.nii.gz';\r\nexport const annotation = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/pat10.nii.gz';\r\n\r\nexport const colors = {\r\n  red: 0xff0000,\r\n  lightGrey: 0xffffff,\r\n};\r\n\r\n\r\nexport let boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n  };\r\n/*\r\nfetch(\"..//data//box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];\r\n  gui();\r\n  generateGeometry();\r\n});\r\n*/\r\n\r\nexport const geometry = new THREE.BoxGeometry( 1, 1, 1);\r\nexport const material = new THREE.MeshBasicMaterial( {transparent: true, color:0xff0000, opacity:0.5, side: THREE.DoubleSide, wireframe: true} );\r\n\r\nexport const cube = new THREE.Mesh( geometry, material );\r\nexport const axialCube = new THREE.Mesh( geometry, material );\r\nexport const coronalCube = new THREE.Mesh( geometry, material );\r\nexport const sagittalCube = new THREE.Mesh( geometry, material );\r\n\r\nconst arrCube = [cube, axialCube, coronalCube, sagittalCube];\r\nexport function generateGeometry() {\r\n  \r\n  arrCube.forEach(function(element)\r\n  {\r\n  \telement.geometry.dispose();\r\n  \telement.geometry = new THREE.BoxGeometry( \r\n\t  boxData.width, \r\n\t  boxData.height, \r\n\t  boxData.depth, \r\n\t  boxData.widthSegments, \r\n\t  boxData.heightSegments, \r\n\t  boxData.depthSegments);\r\n\telement.rotation.x = boxData.rotateX;\r\n\telement.rotation.y = boxData.rotateY;\r\n\telement.rotation.z = boxData.rotateZ;\r\n\telement.position.x = boxData.positionX;\r\n\telement.position.y = boxData.positionY;\r\n\telement.position.z = boxData.positionZ;\r\n  });\r\n  \r\n}\r\n\r\nfunction gui() {\r\n  const gui = new dat.GUI({\r\n    autoPlace: false,\r\n  });\r\n\r\n  const customContainer = document.getElementById('main-gui-container');\r\n  customContainer.appendChild(gui.domElement);\r\n\r\n  const boxFolder = gui.addFolder( 'Box Geometry' );\r\n\r\n  boxFolder.add( boxData, 'width', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'height', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depth', 1, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'widthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'heightSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'rotateX', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateY', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateZ', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData , 'positionX', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionY', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionZ', -100, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.open();\r\n};\r\n\r\n\r\n","import { colors, file, geometry, material } from '../utils.js';\r\n\r\nexport default class LessonTwoPreviewCard {\r\n\r\n  constructor(id, guiId) {\r\n    this.id = id;\r\n    this.guiId = guiId;\r\n    this.cube = new THREE.Mesh( geometry, material );\r\n  }\r\n\r\n  generateGeometry(box) {\r\n\r\n    this.cube.scale.x = box.width;\r\n    this.cube.scale.y = box.height;\r\n    this.cube.scale.z = box.depth;\r\n    this.cube.rotation.x = box.rotateX * 0.01745329; // degree to radians\r\n    this.cube.rotation.y = box.rotateY * 0.01745329;\r\n    this.cube.rotation.z = box.rotateZ * 0.01745329;\r\n    this.cube.position.x = box.positionX;\r\n    this.cube.position.y = box.positionY;\r\n    this.cube.position.z = box.positionZ;\r\n  }\r\n\r\n  run() {\r\n\r\n    // Setup renderer\r\n    const container = document.getElementById(this.id);\r\n    const renderer = new THREE.WebGLRenderer({\r\n      antialias: true,\r\n    });\r\n    renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    renderer.setClearColor(colors.lightGrey, 1);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    container.appendChild(renderer.domElement);\r\n\r\n    const scene = new THREE.Scene();\r\n\r\n    const camera = new THREE.PerspectiveCamera(\r\n      45,\r\n      container.offsetWidth / container.offsetHeight,\r\n      0.1,\r\n      1000\r\n    );\r\n    camera.position.x = 0;\r\n    camera.position.y = 0;\r\n    camera.position.z = 400;\r\n\r\n    const controls = new AMI.TrackballControl(camera, container);\r\n\r\n    const onWindowResize = () => {\r\n      camera.aspect = container.offsetWidth / container.offsetHeight;\r\n      camera.updateProjectionMatrix();\r\n\r\n      renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    };\r\n    window.addEventListener('resize', onWindowResize, false);\r\n\r\n    const loader = new AMI.VolumeLoader(container);\r\n    loader\r\n      .load(file)\r\n      .then(() => {\r\n        const series = loader.data[0].mergeSeries(loader.data);\r\n        const stack = series[0].stack[0];\r\n        loader.free();\r\n\r\n        const stackHelper = new AMI.StackHelper(stack);\r\n        stackHelper.bbox.visible = false;\r\n        stackHelper.border.color = colors.red;\r\n        scene.add(stackHelper);\r\n\r\n        gui(stackHelper);\r\n\r\n        const centerLPS = stackHelper.stack.worldCenter();\r\n        camera.lookAt(centerLPS.x, centerLPS.y, centerLPS.z);\r\n        camera.updateProjectionMatrix();\r\n        controls.target.set(centerLPS.x, centerLPS.y, centerLPS.z);\r\n      \r\n      })\r\n      .catch(error => {\r\n        window.console.log('oops... something went wrong...');\r\n        window.console.log(error);\r\n      });\r\n\r\n    scene.add( this.cube );\r\n\r\n    const animate = () => {\r\n      controls.update();\r\n      renderer.render(scene, camera);\r\n\r\n      requestAnimationFrame(function() {\r\n        animate();\r\n      });\r\n    };\r\n\r\n    animate();\r\n\r\n    const gui = stackHelper => {\r\n      const gui = new dat.GUI({\r\n        autoPlace: false,\r\n      });\r\n\r\n      const customContainer = document.getElementById(this.guiId);\r\n      customContainer.appendChild(gui.domElement);\r\n      const camUtils = {\r\n        invertRows: false,\r\n        invertColumns: false,\r\n        rotate45: false,\r\n        rotate: 0,\r\n        orientation: 'default',\r\n        convention: 'radio',\r\n      };\r\n\r\n      const stackFolder = gui.addFolder('Stack');\r\n      stackFolder\r\n        .add(stackHelper, 'index', 0, stackHelper.stack.dimensionsIJK.z - 1)\r\n        .step(1)\r\n        .listen();\r\n      stackFolder\r\n        .add(stackHelper.slice, 'interpolation', 0, 1)\r\n        .step(1)\r\n        .listen();\r\n    };\r\n\r\n  }\r\n\r\n  \r\n}\r\n","import LessonTwoPreviewCard from './LessonTwoPreviewCard.js';\r\n//import BoxGeometryPanel from './BoxGeometryPanel.js';\r\n\r\nvar boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n};\r\n\r\nfetch(\"https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];   \r\n  updateGeometries();\r\n});\r\n\r\nvar generic = new LessonTwoPreviewCard(\"3d-container\", \"3d-gui-container\");\r\n\r\nfunction updateGeometries()\r\n{\r\n  generic.generateGeometry(boxData);\r\n}\r\n\r\nfunction render()\r\n{ \r\n  generic.run();\r\n}\r\n\r\n\r\nupdateGeometries();\r\nrender();\r\n/*\r\nconst boxId = \"l1\";\r\nvar boxGeometryPanel = new BoxGeometryPanel(boxData,boxId);\r\nboxGeometryPanel.render();\r\n\r\nfunction handleBoxGeometryChange(e)\r\n{\r\n  // Remove boxId appended at end of each Id\r\n  var property = e.target.id.slice(0,-boxId.length);\r\n  //Update boxData\r\n  boxData[property] = e.target.value;\r\n  updateGeometries();\r\n}\r\n\r\nconst boxGeometryL1 = document.getElementById(\"boxgeometry\"+boxId);\r\nconst properties = [\"width\",\"height\",\"depth\", \"rotateX\", \"rotateY\", \"rotateZ\", \"positionX\", \"positionY\", \"positionZ\"];\r\nproperties.forEach(property => document.getElementById(property+boxId)\r\n  .addEventListener(\"change\", handleBoxGeometryChange));\r\n*/"]}