{"version":3,"sources":["src/utils.js","src/js/LessonOnePreviewCard.js","src/js/BoxGeometryPanel.js","src/js/lesson1.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["file","colors","red","lightGrey","boxData","width","height","depth","widthSegments","heightSegments","depthSegments","rotateX","rotateY","rotateZ","positionX","positionY","positionZ","geometry","THREE","BoxGeometry","material","MeshBasicMaterial","transparent","color","opacity","side","DoubleSide","wireframe","cube","Mesh","axialCube","coronalCube","sagittalCube","arrCube","generateGeometry","forEach","element","dispose","rotation","x","y","z","position","gui","dat","GUI","autoPlace","customContainer","document","getElementById","appendChild","domElement","boxFolder","addFolder","add","onChange","step","open","LessonOnePreviewCard","id","guiId","stackHelperOrientation","cameraZoomInFactor","cameraOrientation","box","scale","container","renderer","WebGLRenderer","antialias","setSize","offsetWidth","offsetHeight","setClearColor","setPixelRatio","window","devicePixelRatio","scene","Scene","camera","AMI","OrthographicCamera","clientWidth","clientHeight","controls","TrackballOrthoControl","staticMoving","noRotate","onWindowResize","canvas","fitBox","addEventListener","loader","VolumeLoader","load","then","series","data","mergeSeries","stack","free","stackHelper","StackHelper","bbox","visible","border","orientation","Number","worldbb","worldBoundingBox","lpsDims","Vector3","center","worldCenter","clone","halfDimensions","directions","xCosine","yCosine","zCosine","update","catch","error","console","log","animate","render","requestAnimationFrame","camUtils","invertRows","invertColumns","rotate45","rotate","convention","cameraFolder","listen","conventionUpdate","value","stackFolder","dimensionsIJK","slice","BoxGeometryPanel","loadBoxGeometry","bind","saveBoxGeometry","fileData","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","link","createElement","download","href","click","boxGeometry","span","panel","className","row","textHeading","classList","innerHTML","text","input","setAttribute","fetch","response","json","updateGeometries","axial","sagittal","coronal","run","boxId","boxGeometryPanel","handleBoxGeometryChange","e","property","target","length","boxGeometryL1","properties","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","match","getBaseURL","replace","exports","bundle","require","updateLink","newLink","cloneNode","onload","remove","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","module"],"mappings":"AIAA,ACAA,IDAI2L,ACAAU,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSV,ACCAW,UAAT,CAAoB7C,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCA8C,CDDCb,MCCM,GDDX,ACCcjC,EDDE,ECCE,CAAC+C,SAAL,EAAd;ADAEd,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADW,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BhD,IAAAA,IAAI,CAACiD,MAAL;ADCF,ACAC,AHNH,ADAA,ADAA,GKIE,MDEOhB,SAAP;AACD,ADJD,AHFA,IGEIvL,OAAO,GAAG;AEIZoM,AFHEnM,AHFG,EKKLmM,AFHEnM,EHFSL,GGEJ,CHFQ,CKKR,AFHE,CEGD6J,CFJI,AHDM,GKKlB,GAAeH,IAAI,CAACG,IAAL,CAAU+C,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C,8BLLK;AIOP,ACDEpD,AFHEpJ,EEGFoJ,AFHEpJ,IEGE,CAACyM,CFHG,CCIDlB,CDJG,EAFE,KEKZ,CAAgBmB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsC9C,IAAI,CAACuD,WAA3C;ADEA,ACDD,AFHG1M,AHFG,EGEHA,EHFSN,GGEJ,EAAE,CHFQ,CGDL,EHCQ;AIOpB,ADJEO,AHFFN,EGEEM,AHFFN,GAAG,CIMC,CJNC,QGEU,AHHK,EGGH,CAJL;ACSV,ACDJ,AFHIO,AHFFN,EGEEM,AHFFN,EKKE+M,MDCM,CJNC,EAAE,CIMCpB,ACDA,EFHI,CEGD,CFHG,CCIV,ADTI,ECSV,ACDJ;ADEG,ADJCpL,AHLkB,CAAf,CGKHA,CCEF,CAEE,OAAOqL,GAAP,CDJa,CCID,CDJG,CANL;ACWV,ACFJ,AFFIpL,EAAAA,EDRiBkI,ADAAnF,IGYbsI,CCFCmB,AFFE,EAAE,CAPC,GCWC,GAAG,ACFlB,CDEmB,ECFE,GDEGpB,GAAG,CAAC5F,KAAV,EAAiB8F,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AHTA,ADAA,AEOErL,AHDG,EGCHA,EHDOR,EKGL8M,GFFK,EAAE,AHDK,CGPJ,EHOO,EKGnB,EAAgB,UHTJlJ,GAAZ,CDAYL,CCAKA,CDAjB,CCAA,CDAgBC,CCChB,IDDA,EAAuBC,sBAAvB,EAA+CC,kBAA/C,EAAmEC,iBAAnE,EAAsF;AGWpF,ACDA,AHTF,ADDsF,AEQpFlD,AHDAR,EGCAQ,AHDAR,KAAK,CIID2L,CDHG,AHDA,EGCE,AHFQ,CGPP,GCYV,EAAa;AACX,ACDH,AFFClL,AHDAR,EGCAQ,AHDAR,MAAM,EAAE,CGCC,CHHQ,CIMR4L,ADHE,CAVD,SCaS,CAACF,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,AFXD,ADDA,AESAjL,AHDAR,EGCAQ,AHDAR,KAAK,EEPAoD,ADDAA,ADQE,EEPP,ADDA,AESS,AHJQ,EGIN,CDRDA,ADDAA,AEFA,EDGV,ADDA;AGaD,ACDDuJ,AHVE,ADDA,AESAlM,AHDAR,EKGF0M,AFFElM,AHDAR,OEPKH,ADDAuD,EESI,CEED,CFFG,CDRX,ADDA,CIWWwJ,ALHE,EEPApJ,ADDAJ,ADQE,CAJE,EEHD,CAACvD,CDDjB,GIWqB,CAAC,AHVtB,YGUkC;AAClC,AHVA,ADDA,AEJU,AHYVI,CGZJ,CHYIA,MKGI4M,CHVC/M,ADDAsB,IIWI,AJXT,ECCA,CGUYoB,AJXA,ADQE,EEPAgB,AFOE,CALC,CCHD9C,CCCC,CAACZ,EGUE,CAACgN,AJXA,CAACzL,ECCtB,EDDY,CAAgBZ,UIWhB,CAA0B,IJX1B,EAA0BG,eAA1B,CAAZ,EIWY,CAAZ;ADEF,AFXE,ADDA,AEUJsJ,AHFIhK,EAAAA,GGEC,CAAC,GCEG,AFXAH,ADDAsD,GGYP,EFXE,CFOa,EEPAG,AFOE,CANE,EEDD,CAACzD,KAAjB,KDDA,GAA8BsD,sBAA9B,oBEUC,CAAL,CACCkC,IADD,CACM,UAAA4E,QAAQ,EAAI;ACEjB,ACFG,AHTA,ADDA,AEWD,AHHChK,EAAAA,OKEK,AHTAH,ADDAsD,AEWC6G,AHHC,EAAE,CAPQ,CKSR4C,CAAC,GAAG,AFCC,CEDd,AFCe3C,EEDC2C,CAAC,CHTjB,ACUM,EEDcF,AFCrB,CDVsBrJ,EDDrB,CCCwB,CGSC,AHTAxD,CGSCgL,AJVA1H,MIU1B,EAAkCyJ,CAAC,EAAnC,CHTA,CGSuC,KJVvC;AIWE,AHTF,ADDA,AEWH,AHHG3M,CGAJ,CHAIA,CGIHmF,IAJD,CAIM,CDXGtF,ADDAsD,ADQE,CKEDsI,CLFG,CARQ,IKUL,CAACH,CFEXjG,IAAI,CDXN,CCWU,EDXYjC,ADDtB,CIUM,CAAkBqJ,CHTC,ADDAtJ,CCCCtD,GGSG,CAAC8M,CAAD,CAAL,CAAS1D,IAA3B,GHTN,EDDA,CIU2CwC,MAAM,CAACR,YAAP,EAAzC,EAAgE;ADGtE,ACFQU,AHTJ,ADDD,AEYDnM,AHJES,EGIFT,AHJES,MKEI0L,CDECL,AFXAxL,ACWA,AHJE,EAAE,CGIDuF,AHbS,IGaL,CAAC,CEFC,CDElB,ACFmBoH,CDEC9D,EFXhB,CEWJ,CCFwB,CDEC,ACFAgE,AHTAvJ,CGSD,AFER,CEFE,AFEhB,CEFM,AHToB,CAACtD,aAAzB;AEYF,ACFK,AHTH,ACWFmK,AHJE/J,EGIF+J,AHJE/J,OIIK,AFXAH,CEWC,CJJG,EAAE,CAVM,CIcN4I,CFXX,EEWK,ADAS,CDXCvF,CEWCmI,EFXE,CAACxL,IEWd,CAAmB,EFXxB,oEEWK,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHTD,ACWH,AHJGI,CGHJ,CHGIA,OEPKH,EFOI,EAAE,CAXM,EEIjB,GAAeoD,GAAG,CAACpD,OAAnB;AACA,ACYJ,AHLII,EAAAA,EGKA8J,KDZKjK,ACYA,EHLI,CGKD,CHLG,GEPX,ACYY6C,GDZGM,GAAG,CAACnD,OAAnB,eCYQ,CAAyB,iBAAzB,EAA4C,qBAA5C,EAAmE,GAAnE,EAAwE,IAAxE,EAA8E,OAA9E,CAAZ;ACAAuL,ACFIc,AHTA,ACYJ,AHlBqB,CAAd,GKeHA,AFGAnC,GCDG,CAACc,CFXC/K,GCYG,EEHE,CFGC,EEHE,CHTb,CCYe4C,CCDnB,CCFI,AHTiBM,EEWE4H,CFXC,CAAC9K,SAArB,GDHekD,IGcnB,CHdwB,MEeT,CAAyB,oBAAzB,EAA+C,wBAA/C,EAAyE,GAAzE,EAA8E,IAA9E,EAAoF,UAApF,CAAf;ACAAoI,ACFG,AHTC,ADFA,AEcJ,AHLA,GKPyB,CFYrBpB,CEHC,EDEE,ACXkB,CDWjBkB,ACXN,CHAOnL,EDFAa,AEcE,GAAG,CFdV,CAAUqC,EGad,AFXI,ACYcP,GCDGwI,AFXAlI,ADFjB,CAAgBzB,CAAhB,CCEoB,CAACxB,CDFDiD,GAAG,CAAC3D,CGa5B,GFXI,CDFA,YEcU,CAAyB,mBAAzB,EAA8C,uBAA9C,EAAuE,GAAvE,EAA4E,IAA5E,EAAkF,SAAlF,CAAd;AEFC,AHTG,ADFA,ADSJ,SEPSW,EDFAY,IAAL,CAAUqC,ECEV,GAAiBD,ADFjB,CAAgBxB,CAAhB,CCEoB,CAACxB,CDFDgD,GAAG,CAAC1D,ICExB,EDFA;ACIA,ADHA,AEcJ,AHLA,SENSwI,ACWA+B,EFdAjJ,IAAL,CAAUqC,KAAV,CAAgBxB,CAAhB,CCGA,CCWJ,CFdwBuB,CCGG,CCY3B,CFf2B,CAACzD,ECGIuI,GDH5B,YCGuB,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AGSJyE,AHRI,ADHA,AEeF1C,AHNF,EGMEA,IEJI,CAACsB,AFIA,CAAClK,CDZC8G,EDHApH,GIWT,CJXI,CAAUU,CIWG6K,OHRb,ADHA,AEeF,CFfqB5K,AEeEnC,CEJzB,AJXI,CCGuB,EDHA4D,GCGKgF,ADHF,AEe5B,CFf6BrI,OAAJ,GAAc,ICGd,CAAqBoI,IAArB,CAA0B,ADHjD,CALoB,CAK6B,ECG1B,CAAvB;AACA,ACYFgC,AHNF,EGMEA,ODZOjD,CCYC,CAAC5F,IDZP,GAAc,KAAK4F,ICYrB,CAA0B1H,CDZV,CAAY2I,IAAZ,CAAiB,ACYjC,IDZgB,CAAd;AACD,ADJC,AEgBFiC,AHNF,EGMEA,OAAO,CAAC9I,CFhBDN,IAAL,CAAUU,QAAV,CAAmBE,CAAnB,AEgBF,CAAyBpC,EFhBA4D,GAAG,CAACpD,CEgB7B,MFhByB,GAAc,UAArC;AACA,AEgBH,AHND,WCVSgB,IAAL,CAAUU,QAAV,CAAmBG,CAAnB,GAAuBuB,GAAG,CAACnD,OAAJ,GAAc,UAArC;AACA,ADUJ,WCVSe,IAAL,CAAUc,QAAV,CAAmBH,CAAnB,GAAuByB,GAAG,CAAClD,SAA3B;AACA,AEgBJ,AHNA,SGMSgH,EFhBAlG,IAAL,AEgBJ,CFhBcc,EEiBd,MFjBI,CAAmBF,CAAnB,GAAuBwB,GAAG,CAACjD,SAA3B;AACA,AEiBF+J,AHPF,EGOEA,KAAK,CAACG,GFjBCrJ,AEiBP,IFjBE,CAAUc,QAAV,CAAmBD,CAAnB,GAAuBuB,GAAG,CAAChD,KCEX,CAEjB,GDJC;AACD,AEiBD+J,AHPF,EGOEA,QAAQ,CAACE,GAAT;AACAD,EAAAA,OAAO,CAACC,GAAR;AACD,sCDdmB;AAChB,AFMG,IAAMhK,MENHgI,EFMW,GAAG,GENN,CFMU/H,EENPgI,GFMY,CENR,AFMS/H,CENRgI,ADJlB,SCIa,CAAe,AFMZ,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,CAAjB;AELD,ADLE,AEoBR0B,gBAAgB,GDfE;AACV,ACeR/C,AHVO,IAAM1G,EGUP,MHVe,GAAG,IELP,AFKWF,KELNb,AFKW,CAACgB,IENhB,aFMM,CAA6B;AEJ7C,ADLJ,AEqBJ,AHZsDC,EAAAA,EGYhD4J,KAAK,GAAG,CHZmD,EAAE,CGYnE,GHZqD,CEJnC,KAAK5K,MAFL;AAGV,ADLJ,AEqBJ,AHbyEiB,EAAAA,EGarE4J,GHb0E,EAAC,CCRrEjH,ODQ2C,EEHpC,ADLE,CEqBC,EFrBElB,CEqBC,CDhBDzC,GCgBKsI,EDnBT,CDFY,CAAC5F,cAAT,CAAwB,KAAKU,CEqB5B,CFrBD,AEqBsBvD,CFrBxC,MEqBmB,EAA6B8K,KAA7B,CAAvB;ADfQ,ADLJ,AEqBJC,AHdyF3J,EAAAA,OAAO,CCPtF2C,CDOuF,GAA5C,EGcrC,CAAC2D,CFrBC,GAAG,EEqBrB,EFrByB5G,ECKA,GDLK,CAACkD,CCKD5D,YDLT,CCCH,ADD2B;ACMrC,ADLF6D,ADMgG5C,EAAAA,IAAI,ECNpG4C,ADMsGnD,KAAK,CAACQ,GCNnG,EAAE,KDMoC,IED3B,KAAKjB,cALb;AAMV,ADPqC,AEuB7C,AHhB8HkB,EAAAA,KCPzG,CAAjB,CEuBKyJ,EHhB8H,EAAE,cEAhH,KAAK1K,ACgB9B,CAAiC2K,CAAjC,EACA,SDvBkB;AAOV,ADLJlH,AEsBF,AHlBmD,CAA7B,CAAjB,ICJHA,QAAQ,CAACG,MCKM,CDLf,CAAiBJ,GCKGvD,MDLM,CCFZ,ADEa4D,WAA3B,EAAwCL,SAAS,CAACM,YAAlD;ACMI,ADLJL,AEsBF,MFtBEA,AEsBEmH,QFtBM,AEsBE,CFtBD7G,EEsBI4G,CAAC,CAACE,EDjBA,ICiBF,CDjBO3K,ACiBE+C,EFtBtB,AEsBa,CFtBU1D,AEsBE2I,IDzBX,CCyBD,CAAkB,CAAlB,EAAoB,CAACsC,IFtBJ/K,CEsBS,CAACqL,MAA3B,CFtBb,AEsBF,CAFF,CFpB6C,AEuB3C,CFvBE;ACMI,ADLJrH,ADIG,IAAMvC,ECJTuC,EDIa,GAAG,GCJR,CAACO,ADIWxD,KAAK,CECV,AFDWW,IAAV,CECIhB,AFDYI,ECJhC,CAAuB0D,ICJT,CFQE,CCJa,CAACC,ADIYxD,QAA1B,CAAb,OCJH;ACMI,ADLJ8C,AEsBF9D,EAAAA,IFtBE8D,GEsBK,CAACoH,KFtBG,CAACpI,EEsBL,CAAP,GAAoBmI,CDjBD,ACiBE,CAACE,GFtBpB,CCKsBzK,ADLAqD,EEsBJ,CAASsE,KFtBG,AEsBhC,CD3BgB,ADKiBtF,UAA/B,EAVI,CAYJ;ACII,ACiBN0H,AHnBK,EGmBLA,EHnBW/I,SAAS,GAAG,EGmBP,EHnBWZ,GEER,EFFa,CAACW,EEETd,EFFD,CAAgBE,METvB,EFSO,EAA0BG,QAA1B,CAAlB;AEGC,ADJJ,AEqBH,UFrBSyD,KAAK,GAAG,IAAI3D,CCID,IDJM,CCIDF,ADJE8D,KAAV,EAAd;ACRc,ADUdD,ADAG,IAAM9C,ECAT8C,KAAK,CAACvB,GAAN,ADAoB,CCAV,EDAa,GCAR1B,CDAYV,GCA3B,EAfI,ADe4B,CCEhC,ADFiCW,IAAV,CAAgBZ,QAAhB,EAA0BG,QAA1B,CAApB;AEX6B,ACgCpC,IAAMqK,GDhCe,CAAjB,SCgCe,GAAGzI,QAAQ,CAACC,cAAT,CAAwB,gBAAciI,KAAtC,CAAtB;ADhBI,ADFA,AEmBJ,AHrBO,IGqBDQ,AHrBO1J,MEIHoH,ADFArE,ICEI,ACiBE,EFnBA,ADFS,CEIR,ACiBE,CAAC,CFnBD,ADFS,EEIPsE,EDFErE,ADFS9D,EEIf,ACiBE,CDjBO,ADFA,CCEC+H,ADFAhE,AEmBC,CHrBS,CAACpD,IAAV,CAAgBZ,CEIlB,ACiBP,CDjBF,CCiBoB,CDjBC,IFJV,EGqBT,AHrBmCG,CCEnC,CACb8C,AEkBwC,MHrBlB,CAArB,ECGQ,AEkBI,CFlBHgB,CEkByC,SAAtC,CFlBb,CEkB8D,EFlBtC,CAAC,CADZ,EAEbhB,GEiBa,EAA4D,IFjBhE,CAACgB,MEiBG,EAAyE,GFjBtF,GAAwB,CAFX,EAGbhB,EEgBa,EAAsF,KFhB1F,CAACiB,KEgBG,CAAnB,MFhBM,GAAyB,CAHZ,EAIbjB,SAAS,CAACiB,YAAV,GAAyB,CAAC,CAJb,EAKb,GALa,EAMb,KANa,CAAf,CAlBI,CA2BJ;ACPmCmE,ACkBvCoC,QDlBuCpC,ECkB7B,CAACnH,CDlBgC,EAAE,ICkB7C,CAAmB,UAAAmJ,QAAQ;ADlBW,ADQlC,AEUuB,AHpB3B,IAAMrJ,GEEW,CAAb,CCkB2Be,CFVrBoC,CDVG,GAAG,CAACxD,EGoBsB,CFVrB,AEUsBqB,CHpBxB,ECUK,ADVEnB,ICUEkD,GAAG,CAACK,CDVb,EGoBe,AHpBGtD,CGoBqBuJ,QAAQ,EHpB/C,CGoBgDJ,CHpBjBlJ,IGoBhB,CFVV,CAA8B+C,AEWhDY,MFXkB,ADVL,CAAhB,CCU2DzB,QEU5B,CFVV,AEWD,CFXhB,OEU2B,EACDkH,uBADC,CAAJ;ADjBvB,ADQAhG,AESuB,CAA3B,KFTIA,ICRMmE,GAAG,CDQD,CAACjE,CCRGkE,GAAG,CAACC,ODQhB,GAAwB,IAAxB,CCRY,CAAoBL,IAApB,CAAZ;AACA,ADQAhE,ADXG,MCWHA,GDXYlD,CEGNwH,IAAI,ADQF,CAACnE,ECRIvC,MDQb,ECRqB,AFHlB,CEGmB2G,ADQF,EDXW,ECW/B,SCRa,CAAuB,GAAvB,CAAb;AACAD,ADQA3E,ADVF9C,EAAAA,IEEEyH,ADQA3E,GDVK,CEED,AFFE5C,CEEDyH,CDQC,CAACxE,IDVT,CAAgB,CEEd,EDQA,CCRgB,EDQEA,IDVKhD,IEEvB,ADQA,CA/BI,CAiCJ,CDZc,EAChB;AEEEsH,AFDDtH,IAAAA,EECCsH,IAAI,CAACG,AFDC,CAAC5I,GECP,GAAYsI,EFDb,CECC,AFDgBlH,OAAjB;AEECqH,ADSA,ADVDtH,IAAAA,EECCsH,IAAI,ADSElE,CCTDsE,AFDC,CAAC7I,IECP,IFDD,GAAmB,CCUE,GAAG,ADVDC,KAAK,CAACC,GCUtBqE,QDVY,CACnBpF,KCSwB,EDTjB,CCSuB,ADTtBC,KADW,EAEnBD,OAAO,CAACE,MAFW,EAGnBF,OAAO,CAACG,KAHW,EAInBH,OAAO,CAACI,aAJW,EAKnBJ,OAAO,CAACK,cALW,EAMnBL,OAAO,CAACM,aANW,CAAnB;AEEA,ADSGqE,ADJL3C,IAAAA,ICIK2C,GDJE,CAACzC,ECIG,CAACmD,KDJZ,CCIK,ADJYlD,CAAjB,ECIqB,CDJAnC,OAAO,CAACO,OAA7B;ACKON,ADJP+B,IAAAA,MCIO/B,CDJA,CAACiC,GCII,EAAE4B,GDJd,CAAiB1B,CAAjB,GAAqBpC,CCIE,CAACmE,KDJI,CAAC3D,KCGR,EDHrB;ACKON,ADJP8B,IAAAA,MCIO9B,CDJA,CAACgC,ICIK,EAAE4B,EDJf,CAAiBzB,CAAjB,GAAqBrC,ECIG,CAACoE,IDJG,CAAC3D,OAA7B;ACEqB,ADDrBuB,IAAAA,KCCK,EDDE,CAACM,QAAR,CAAiBH,CAAjB,GAAqBnC,IENZ,GFMmB,CAACU,SAA7B;AELG,ADUEiE,ADJL3C,IAAAA,ICIK2C,ECVEgF,CFMA,CAACrH,ECIG,CAACgD,KDJZ,CENkB,ADUb,ADJYlD,CCIE,ADJnB,CCIK,CCVgBQ,CFMA5C,OENQ,AFMD,CENEuJ,AFMD5I,SAA7B,IENqB,CAAuB,KAAvB,CAAlB;AACAgJ,ADWE5F,ADLL/B,IAAAA,EENG2H,EDWE5F,GDLE,CAACzB,ICKK,CCXC,ADWA4B,CCXCX,EAAZ,AFMH,CAAiBlB,CAAjB,CENoB,CDWf,CAAiByB,ADLD9D,OAAO,CAACY,CCKE,CAACuD,ICXE,GFMlC,EENuCZ,EAApC,ADWE,CCbI,CAIN,ADS0CO,SAAS,CAACM,YAAlD;AACD,ADLF,GAhBD,ICaE;ACDA,AFMH,UENOwF,IAAI,GAAGhH,QAAQ,CAAC2G,aAAT,CAAuB,MAAvB,CAAX;AACAI,ADSApF,MCTAoF,ADSApF,MAAM,CAACgB,ICTI,CAACzC,WAAZ,ADSA,CCTwB8G,ADSA,ICTxB,EANM,CAQN,CDOA,EAAkCxE,cAAlC,EAAkD,KAAlD,EA3CI,CA6CJ;ADJJ,SAAS7C,GAAT,GAAe;AEJX,ADSA,ADJF,MAAMA,GAAG,CELHsH,ADSErE,EDJI,GELD,CDSG,ADJEhD,EELFI,CDSG,ADJE,CAACH,GCICmC,ADJT,CAAY,EELF,ADSE,CCTD2E,ADSE9D,YAAR,CCTH,ADSwB3B,CCTD,KAAvB,CAAZ,EDSe,CAAf;ACRA+F,ADSArE,ADJA9C,IAAAA,EELAmH,ADSArE,KCTK,CAACsE,ADSA,CACHpE,ADLM,EAAE,ECIX,CACQ9F,GCVR,GAAkB,KDSlB,ECTA,ADWG+F,IAFH,CAEQ,YAAM;ACVdiE,ADWI,ADRkB,GAAZ,CAAZ,EEHEA,IAAI,CAAC9G,CDWK8C,MAAM,GAAGJ,CCXnB,CAAiBqE,IDWQ,CCXzB,ADW0BhE,ECtBpB,CAaN,CDSmB,CAAY,CAAZ,EAAeC,WAAf,CAA2BN,MAAM,CAACK,IAAlC,CAAf;AACA,ADLN,MAAMlD,MCKMoD,KAAK,GAAGH,CDLC,GAAGhD,ECKE,CAAC,CAAD,CAAN,CAAUmD,EDLE,CAAClD,ECKb,CAAgB,CAAhB,CAAd,SDLkB,CAAwB,oBAAxB,CAAxB;AEJE,ADUI2C,ADLN7C,EAAAA,MCKM6C,ECVAuE,GAAG,CDUG,CAAC/D,CCVDpD,CFKG,CAACE,CCKV,KCVc,CAACyG,IFKrB,CAA4BhH,GAAG,CAACQ,IELpB,CAAuB,KAAvB,AFKZ,CELE;AACAgH,ADWI,ADLN,MENEA,AFMI/G,GEND,CAAC8G,EDWM7D,GDLG,GAAG1D,CENhB,EFMmB,CENH,AFMIU,CCKC,GAAG,CCXxB,GDW4B2B,CDLZ,CAAe,CCKA,CAACsB,WAAR,CAAoBH,ADL5B,CAAlB,ICK0B,CAApB;ACVJ8D,ADWI5D,ADJNjD,EAAAA,IEPE6G,EDWI5D,GCXC,AFOE,CEPDnD,AFOEI,GAAV,CAAelD,GCIE,CAACmG,GCXhB,AFOF,CEPoB4D,ADWd,CAAiB3D,ADJC,EEPtB,KDWI,ADJN,EAAiC,CCIA,ADJjC,EAAoC,GCI9B,ADJN,EAA0CjD,QAA1C,CAAoDrB,gBAApD;AEJE,ADSImE,ADJNjD,EAAAA,MCIMiD,ECTA+D,CFKG,CAAC9G,GAAV,CAAelD,GCIE,CAACqG,CCTD,EFKjB,CELoBzD,CFKI,CCIlB,CAAmBzB,KCTG,ADStB,CCTuBoI,AFK7B,ECIiC1J,ADJC,CAAlC,EAAqC,GAArC,EAA2CsD,GELvB,CAAuB,EDSHrD,EDJxC,CCIM,ADJ+CgC,CELjC,CAAlB,cFKF;AEJEkI,ADSI/D,ADJNjD,EAAAA,IELEgH,EDSI/D,GDJG,CAAC/C,GAAV,CAAelD,CELF,CAAC8J,CDSG,CAACxD,GDJlB,EAAwB,EELtB,GAAwB,CDSpB,CDJN,ECIgCC,ADJC,CAAjC,CELE,CFKkC,GCIE,ADJtC,CCIuC,CDJGpD,ICIC,CAACM,GDJ5C,CAAoD3B,gBAApD,ECIsC,CAAhC;ACRJkI,ADSIvF,ADHNzB,EAAAA,IENEgH,EDSIvF,GDHG,CAACvB,CCGC,CAACA,CDHZ,CAAelD,CENF,ADSP,CCTQiK,ADSEhE,KDHhB,EAAwB,EENtB,CAAsB/C,CDSlB,ECTJ,CAA0B,QFM5B,CENE,CFMuC,CAAzC,EAA4C,EAA5C,EAAiDE,IAAjD,CAAuD,CAAvD,EAA2DD,QAA3D,CAAqErB,gBAArE;AELEkI,ADUIzH,ADJNS,EAAAA,IENEgH,EDUIzH,GAAG,ADJA,CCIC0D,ADJA/C,GAAV,CAAelD,CENF,CAACkK,KDUL,ADJT,CCIM,CAXU,ADOQ,CCMlB,CCZJ,GAAwB,WFM1B,EAA0C,CAA1C,EENE,AFM2C,EAA7C,EAAkD9G,IAAlD,CAAwD,CAAxD,EAA4DD,QAA5D,CAAsErB,gBAAtE;AELEiI,ADYI,ADNN/G,EAAAA,IENE+G,GAAG,CAACjH,CFMG,CAACI,GAAV,CAAelD,KENb,CAAgBgK,CFMlB,EAAwB,QENtB,OFMF,EAAyC,CAAzC,EAA4C,EAA5C,EAAiD5G,IAAjD,CAAuD,CAAvD,EAA2DD,QAA3D,CAAqErB,gBAArE;AEJE,ADWI,ADLNkB,EAAAA,QENMmH,CFMG,CAACjH,EENA,CFMV,CAAelD,CENF4C,MFMb,EENqB,AFMG,CENF2G,QFMtB,EAAmC,CAAnC,EENa,AFMyB,CENF,EFMpC,EAA4CpG,EEN/B,CAAX,KFMF,CAAsDrB,gBAAtD;AELEqI,AFMFnH,EAAAA,IENEmH,IAAI,CAACL,AFME,CAAC5G,GAAV,CAAelD,IENb,GAAiB,AFMnB,EAAwB,IENtB,KFMF,EAAmC,CAAnC,EAAsC,GAAtC,EAA4CmD,QAA5C,CAAsDrB,gBAAtD;AELEqI,ADUI,ADJNnH,EAAAA,IENEmH,IAAI,CAACD,AFME,CCIG1D,ADJFtD,GAAV,CAAelD,GCII,CCVjB,EDUoB+F,CCVH,AFMnB,EAAwB,ECIG,CAACU,ECV1B,IFMF,EAAmC,CAAnC,EAAsC,GAAtC,ECIsB,ADJsBtD,ECItC,MDJN,CAAsDrB,gBAAtD;AELEiI,ADUI,ADJN/G,EAAAA,IENE+G,GAAG,CAACjH,CFMG,CCIG4D,ADJFxD,GAAV,CAAelD,GCII,ECVjB,CAAgBmK,ADUI,CDJtB,EAAyB,CENvB,ADUwBrJ,KAAK,CAAC6F,IDJhC,EAAsC,CCIhB,ADJiB,CCK/BH,EDLR,EAA4C,GCK7B,ADLf,CCKgB,CAAD,ADLmCrD,CCK1C,GAAaqD,IDLrB,CAA4D1E,ECKhC,CAAC,CAAD,CADN,EAEd0E,OAAO,CAAC,CAAD,ADNf,CCMQ,GAAaA,OAAO,CAAC,CAAD,CAFN,EAGdA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAHN,CAAhB;ACRJ,ADcI,ADTNxD,EAAAA,QELMoH,CFKG,CCSGxG,ADTFV,GELC,ADcI,ADTf,CAAelD,EELD4C,ADcI,KDTlB,EAAwB,CELF,CAAC2G,SFKvB,EAAqC,CAAC,CELxB,CAAuB,CFKrC,EAA2C,GAA3C,CELc,CAAZ,AFK+CpG,QAAjD,CAA2DrB,gBAA3D;AEJEsI,ADcMxD,ADTR5D,EAAAA,IELEoH,IDcMxD,CCdD,AFKE,CELDyD,AFKEnH,GAAV,CCSc,ADTClD,ECSC+F,KAAK,ADTrB,CELE,ADcoBc,CCdD,AFKG,MELtB,EAA2B,EDcb,CDThB,ECSoCC,ADTC,CAAC,EELpC,CFKF,CCSgB,CDT2B,CCQzB,EDRlB,EAAiD3D,QAAjD,CAA2DrB,gBAA3D;AEJEsI,ADcMrD,ADRR/D,EAAAA,IENEoH,IDcMrD,CCdD,AFME,CEND+C,AFMEzG,IAAV,KENE,GAAkB,ADcE,EAAE,IAAIvC,CCd1B,IDc+B,CAAC6F,OAAV,CACdD,OAAO,CAACvE,CAAR,GAAY,KAAI,CAACuB,kBADH,EAEdgD,OAAO,CAACtE,CAAR,GAAY,KAAI,CAACsB,kBAFH,EAGdgD,OAAO,CAACrE,CAAR,GAAY,KAAI,CAACqB,kBAHH;ACbtB0G,ADWgB,ADLnB,MENGA,GDWI,CAvBU,CCYT,ADmBD,CCnBE7G,EAAN,GAAW,UAAU,KAAKA,EAA1B;AACA6G,MAAAA,KAAK,CAAC/B,KAAN,GAAc,KAAKpI,KAAnB;AACA8J,ADkBI,ADdP,MEJGA,GAAG,CAACjH,EDkBMuC,MAAM,GClBhB,ADkBmB,CClBH+E,KAAhB,EAnCM,CAqCN;ADiBMnK,UAAAA,KAAK,EAAE6D,SAAS,CAACgB,WADJ;ACdnBiF,ADgBM7J,MChBN6J,GAAG,CDgBG7J,EChBA0C,IDgBM,EAAEkB,EChBA,CAACyF,MDgBQ,CAACxE,MChBlB,CAAuB,KAAvB,CAAN;AACAgF,ADamB,MCbnBA,GAAG,ADaC,CCbAD,SAAJ,GAAgB,KAAhB;AACAD,ADiBIlF,MCjBJkF,EDiBIlF,GCjBC,CAAC7B,EDiBI,CAACkE,QCjBX,CAAkB+C,CDiBd,ECjBJ,CDiBwB,CAAChE,KAAK,CAACkB,OAAP,EAAgBlB,KAAK,CAACmB,OAAtB,EAA+BnB,KAAK,CAACoB,OAArC,CAApB;ACfJgD,ADgBIxF,MChBJwF,EDgBIxF,EChBA,GAAG/B,CDgBG,CAACgB,GAAP,GChBW,ADgBEA,CChBD2F,EDgBZ,WChBG,CAAuB,MAAvB,CAAP;AACAY,ADgBIxF,MChBJwF,EDgBIxF,EChBA,CAACmF,GDgBK,CAACzE,KChBX,CDgBI,EChBa,CDgBGA,KChBpB,CDgBI;ACfJ8E,ADgBIxF,MChBJwF,EDgBIxF,EChBA,CAACuF,GDgBK,CAAC5D,KChBX,GAAiB,GDgBb,GAAqB,EChBzB,GDgB6B,CAAC3C,iBAA1B;ACfJoG,ADgBIpF,MChBJoF,EDgBIpF,CChBD,CAAC7B,IDgBM,CAACsE,MChBX,ADgBI,CChBY+C,IAAhB;AAEAC,ADeIzF,MCfJyF,EDeIzF,GCfC,GAAG/B,ADeE,CAAC0C,MAAP,CCfY,ADeE,CCfDiE,ADeb,aCfI,CAAuB,OAAvB,CAAR;AACAa,ADeG,MCfHA,CD9BA,EA8CG/C,EChBE,CAACgD,ED9BN,CA8CS,SChBT,CAAmB,ADgBV/C,KAAK,CChBd,CDgBkB,CChBS,QAA3B;AACA8C,ADgBI7F,MChBJ6F,EDgBI7F,GChBC,CAACuF,EDgBI,CAACvC,MChBX,CDgBI,CAAeC,CChBD,EDgBd,CAAmB,IChBvB,6BDgBI;ACfJ4C,ADgBI7F,MChBJ6F,EDgBI7F,GChBC,CAAChB,EAAN,ADgBU,CAACgE,EChBA,KDgBP,CAAeC,GAAf,CAAmBF,CChBD,IDgBlB,CChBuB/D,EAA3B;AACA6G,ADgBG,MChBHA,CDjCA,ICiCK,CAAC/B,KAAN,GAAc,KAAKnI,MAAnB;AACA6J,MAAAA,GAAG,CAACjH,WAAJ,CAAgBsH,KAAhB,EArDM,CAuDN;ADeA,UAAM3C,OAAO,GAAG,SAAVA,OAAU,GAAM;ACbtBsC,ADcE/E,MCdF+E,EDcE/E,CCdC,GAAGpC,IDcI,CAACwE,GCdG,CAACmC,EDcb,WCdI,CAAuB,KAAvB,CAAN;AACAQ,ADcEhG,MCdFgG,EDcEhG,CCdC,CAAC+F,MDcM,CAACpC,ECdX,GAAgB,CDcd,CAAgBjD,GCdlB,EDcE,EAAuBE,MAAvB;ACbFkF,ADeElC,MCfFkC,EDeElC,GCfG,CAAC7E,WAAN,CAAkBiH,GAAlB,EDeuB,CAAC,YAAW;ACbnCI,ADcI1C,MCdJ0C,IAAI,ADcA1C,GCdG7E,IDcI,ICdI,CAAC2G,aAAT,CAAuB,MAAvB,CAAP;AACAY,ADcG,MCdHA,GDYuB,CCZnB,ADYF,CCZGL,SAAL,GAAiB,MAAjB;AACAK,ADcC,MCdDA,CDOA,GCPI,CAACD,SAAL,GAAiB,OAAjB;AACAH,MAAAA,GAAG,CAACjH,WAAJ,CAAgBqH,IAAhB;AAEAC,ADaA3C,MCbA2C,ADaA3C,KCbK,EDaE,CCbC7E,ED9FJ,CA6GJ,KCfgB,CAAC2G,aAAT,CAAuB,OAAvB,CAAR;AACAa,MAAAA,KAAK,CAACC,YAAN,CAAmB,MAAnB,EAA2B,QAA3B;AACAD,ADcA,MCdAA,IDcM7H,CCdD,CAACuH,CDcG,GAAG,KCdZ,GAAkB,KDcN7D,ECdZ,SDcuB,EAAI;ACb3BmE,ADcA,MCdAA,KAAK,CAAC7G,ADcAhB,ECdN,CDcS,ECdE,CDcC,IAAIC,GAAG,CAACC,CCdC,EDcT,CAAY,ECdEc,EAA1B;AACA6G,ADcE1H,MCdF0H,IDcE1H,CCdG,CAAC2F,KAAN,EDcW,CCdG,CDcD,ICdMlI,KAAnB;AACA4J,ADYwB,MCZxBA,GAAG,ADYS,CCZRjH,ADYJ,WCZA,CAAgBsH,KAAhB,EAvEM,CAyEN;ADcA,YAAMzH,eAAe,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAI,CAACW,KAA7B,CAAxB;ACbAqG,ADcAlH,MCdAkH,EDcAlH,GCdK,GAAGC,QAAQ,CAAC2G,ADcF,CAACzG,WAAhB,CCdQ,ADcoBP,CCdG,EDcA,CAACQ,ECdxB,CAAR,ODcA;ACbA8G,ADcA,MCdAA,KAAK,CAACC,ADcAlC,QAAQ,CCdd,EDciB,CCdC,OAAlB;AACAgC,ADcE/B,MCdF+B,IAAI,ADcF/B,CCdG/E,SDcO,ECdZ,ADcc,CCdG+G,IDaA,CCbjB,EA5EM,CA8EN;ADaE/B,UAAAA,aAAa,EAAE,KAFA;ACVjBiC,ADaEhC,MCbFgC,GAAG,CDaDhC,ECbInF,MDaI,ECbI,ADaF,CCbG2G,IDUE,SCVX,CAAuB,KAAvB,CAAN;AACAQ,ADaE/B,MCbF+B,GAAG,CAACD,ADaF9B,MAAM,EAAE,CCbV,ADSiB,GCTD,KAAhB;AACA6B,ADaEvD,MCbFuD,IDaEvD,CCbG,CAACxD,SDaO,ECbb,ADae,CCbGiH,GAAlB,GDQiB;ACNjBC,ADYE/B,MCZF+B,IDYE/B,OCZS,GAAGrF,ADYF,EAAE,MCZQ,CAAC2G,aAAT,CAAuB,MAAvB,CAAd;AACAS,ADKiB,MCLjBA,GDKA,CAP2B,CAgB3B,MCdW,CAACF,SAAZ,GAAwB,MAAxB;AACAE,MAAAA,WAAW,CAACC,SAAZ,CAAsB/G,GAAtB,CAA0B,SAA1B;AACA8G,ADaA,MCbAA,MDaM9B,KCbK,CAACgC,MDaM,GCblB,ADaqB3H,GCbG,ADaA,CAACU,SAAJ,CAAc,GCbnC,KDaqB,CAArB;ACZA8G,ADaA,MCbAA,GAAG,CAACjH,EDaE+E,SCbN,CAAgBmC,ADaA,GAAG9B,QCbnB,IDa+B,CAAChF,GAAb,CAAiB0E,QAAjB,EAA2B,YAA3B,CAAnB;ACXAuC,ADYAtC,MCZAsC,EDYAtC,ECZI,GAAGjF,KDYG,CAACO,ECZI,CAACoG,KDYhB,CAAoB,OCZb,CAAuB,IDYJ,ECZnB,CAAP;AACAY,ADYExF,MCZFwF,IAAI,ADYFxF,CCZGmF,KDYG,CAACjC,GCZT,GAAiB,IDYf,ECZF;AACAsC,ADYC,MCZDA,GDUA,CCVI,CAACD,SAAL,GAAiB,GAAjB;AACAH,ADaA,MCbAA,GAAG,CAACjH,EDaEgF,SCbN,CAAgBqC,GDaG,CCbnB,EDasBjC,YAAY,CAAChF,GAAb,CAAiB0E,QAAjB,EAA2B,eAA3B,CAAtB;ACXAwC,ADYAtC,MCZAsC,EDYAtC,GCZK,GAAGlF,ODYK,CCZG,ADYFO,CCZGoG,ODYjB,CAAuB,KCZf,CAAuB,MDYF,CCZrB,CAAR;AACAa,ADYEzF,MCZFyF,IDYEzF,CCZG,CAAC0F,IDYE,CAACvC,OCZT,CAAmB,KDYjB,CCZF,EAA2B,QAA3B;AACAsC,ADYC,MCZDA,GDUA,ECVK,CAACC,YAAN,CAAmB,KAAnB,EAA0B,CAA1B;AACAD,ADaA,MCbAA,KAAK,CAACC,ADaAtC,QAAQ,GAAGG,CCbjB,CAAmB,KAAnB,EAA0B,GAA1B,ADa6B,CAAChF,GAAb,CAAiB0E,QAAjB,EAA2B,UAA3B,CAAjB;ACZAwC,ADaArC,MCbAqC,EDaArC,GCbK,CAAC+B,IDaE,CAAC3G,ICbT,GAAkB,CDalB,CAAkB,KCblB,ODawB;ACZxBiH,ADaEzF,MCbFyF,IDaEzF,CCbG,CAACpB,EAAN,EDaQ,CCbG,ADaFyE,MAAP,MCbqB,KAAKzE,EAA5B;AACA6G,ADaC,MC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","file":"lesson1.bdcf0b11.js","sourceRoot":"..","sourcesContent":["//export const file = 'https://cdn.rawgit.com/FNNDSC/data/master/nifti/adi_brain/adi_brain.nii.gz';\r\n//export const file = '..//data//adi_brain.nii.gz';\r\nexport const file = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/adi_brain.nii.gz';\r\n\r\nexport const colors = {\r\n  red: 0xff0000,\r\n  lightGrey: 0xffffff,\r\n};\r\n\r\n\r\nexport let boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n  };\r\n/*\r\nfetch(\"..//data//box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];\r\n  gui();\r\n  generateGeometry();\r\n});\r\n*/\r\n\r\nexport const geometry = new THREE.BoxGeometry( 1, 1, 1);\r\nexport const material = new THREE.MeshBasicMaterial( {transparent: true, color:0xff0000, opacity:0.5, side: THREE.DoubleSide, wireframe: true} );\r\n\r\nexport const cube = new THREE.Mesh( geometry, material );\r\nexport const axialCube = new THREE.Mesh( geometry, material );\r\nexport const coronalCube = new THREE.Mesh( geometry, material );\r\nexport const sagittalCube = new THREE.Mesh( geometry, material );\r\n\r\nconst arrCube = [cube, axialCube, coronalCube, sagittalCube];\r\nexport function generateGeometry() {\r\n  \r\n  arrCube.forEach(function(element)\r\n  {\r\n  \telement.geometry.dispose();\r\n  \telement.geometry = new THREE.BoxGeometry( \r\n\t  boxData.width, \r\n\t  boxData.height, \r\n\t  boxData.depth, \r\n\t  boxData.widthSegments, \r\n\t  boxData.heightSegments, \r\n\t  boxData.depthSegments);\r\n\telement.rotation.x = boxData.rotateX;\r\n\telement.rotation.y = boxData.rotateY;\r\n\telement.rotation.z = boxData.rotateZ;\r\n\telement.position.x = boxData.positionX;\r\n\telement.position.y = boxData.positionY;\r\n\telement.position.z = boxData.positionZ;\r\n  });\r\n  \r\n}\r\n\r\nfunction gui() {\r\n  const gui = new dat.GUI({\r\n    autoPlace: false,\r\n  });\r\n\r\n  const customContainer = document.getElementById('main-gui-container');\r\n  customContainer.appendChild(gui.domElement);\r\n\r\n  const boxFolder = gui.addFolder( 'Box Geometry' );\r\n\r\n  boxFolder.add( boxData, 'width', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'height', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depth', 1, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'widthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'heightSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'rotateX', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateY', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateZ', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData , 'positionX', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionY', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionZ', -100, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.open();\r\n};\r\n\r\n\r\n","import { colors, file, geometry, material } from '../utils.js';\r\n\r\nexport default class LessonOnePreviewCard {\r\n\r\n  constructor(id, guiId, stackHelperOrientation, cameraZoomInFactor, cameraOrientation) {\r\n    this.id = id;\r\n    this.guiId = guiId;\r\n    this.cube = new THREE.Mesh( geometry, material );\r\n    this.stackHelperOrientation = stackHelperOrientation;\r\n    this.cameraZoomInFactor = cameraZoomInFactor;\r\n    this.cameraOrientation = cameraOrientation;\r\n  }\r\n\r\n  generateGeometry(box) {\r\n\r\n    this.cube.scale.x = box.width;\r\n    this.cube.scale.y = box.height;\r\n    this.cube.scale.z = box.depth;\r\n    this.cube.rotation.x = box.rotateX * 0.01745329; // degree to radians\r\n    this.cube.rotation.y = box.rotateY * 0.01745329;\r\n    this.cube.rotation.z = box.rotateZ * 0.01745329;\r\n    this.cube.position.x = box.positionX;\r\n    this.cube.position.y = box.positionY;\r\n    this.cube.position.z = box.positionZ;\r\n  }\r\n\r\n  run() {\r\n    \r\n    // Setup renderer\r\n    const container = document.getElementById(this.id);\r\n    const renderer = new THREE.WebGLRenderer({\r\n      antialias: true,\r\n    });\r\n    renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    renderer.setClearColor(colors.lightGrey, 1);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    container.appendChild(renderer.domElement);\r\n\r\n    // Create scene\r\n    const scene = new THREE.Scene();\r\n    \r\n    scene.add(this.cube);\r\n\r\n    // Camera\r\n    const camera = new AMI.OrthographicCamera(\r\n      container.clientWidth / -2,\r\n      container.clientWidth / 2,\r\n      container.clientHeight / 2,\r\n      container.clientHeight / -2,\r\n      0.1,\r\n      10000\r\n    );\r\n\r\n    // Setup controls\r\n    const controls = new AMI.TrackballOrthoControl(camera, container);\r\n    controls.staticMoving = true;\r\n    controls.noRotate = true;\r\n    camera.controls = controls;\r\n\r\n    // Resize canvas when the window resizes\r\n    const onWindowResize = () => {\r\n      camera.canvas = {\r\n        width: container.offsetWidth,\r\n        height: container.offsetHeight,\r\n      };\r\n      camera.fitBox(2);\r\n\r\n      renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    };\r\n    window.addEventListener('resize', onWindowResize, false);\r\n\r\n    // Load image data\r\n    const loader = new AMI.VolumeLoader(container);\r\n    loader\r\n      .load(file)\r\n      .then(() => {\r\n        const series = loader.data[0].mergeSeries(loader.data);\r\n        const stack = series[0].stack[0];\r\n        loader.free();\r\n\r\n        const stackHelper = new AMI.StackHelper(stack);\r\n        stackHelper.bbox.visible = false;\r\n        stackHelper.border.color = colors.red;\r\n        stackHelper.orientation = Number(this.stackHelperOrientation);\r\n        scene.add(stackHelper);\r\n\r\n        gui(stackHelper);\r\n\r\n        // center camera and interactor to center of bouding box\r\n        // for nicer experience\r\n        // set camera\r\n        const worldbb = stack.worldBoundingBox();\r\n        const lpsDims = new THREE.Vector3(\r\n          worldbb[1] - worldbb[0],\r\n          worldbb[3] - worldbb[2],\r\n          worldbb[5] - worldbb[4]\r\n        );\r\n\r\n        const box = {\r\n          center: stack.worldCenter().clone(),\r\n          halfDimensions: new THREE.Vector3(\r\n            lpsDims.x - this.cameraZoomInFactor, \r\n            lpsDims.y - this.cameraZoomInFactor, \r\n            lpsDims.z - this.cameraZoomInFactor),\r\n        };\r\n\r\n        // init and zoom\r\n        const canvas = {\r\n          width: container.clientWidth,\r\n          height: container.clientHeight,\r\n        };\r\n\r\n        camera.directions = [stack.xCosine, stack.yCosine, stack.zCosine];\r\n        camera.box = box;\r\n        camera.canvas = canvas;\r\n        camera.orientation = this.cameraOrientation;\r\n        camera.update();\r\n        camera.fitBox(2);\r\n      })\r\n      .catch(error => {\r\n        window.console.log('oops... something went wrong...');\r\n        window.console.log(error);\r\n      });\r\n\r\n    const animate = () => {\r\n      controls.update();\r\n      renderer.render(scene, camera);\r\n\r\n      requestAnimationFrame(function() {\r\n        animate();\r\n      });\r\n    };\r\n\r\n    animate();\r\n\r\n    // GUI\r\n    const gui = stackHelper => {\r\n    const gui = new dat.GUI({\r\n      autoPlace: false,\r\n    });\r\n\r\n    const customContainer = document.getElementById(this.guiId);\r\n    customContainer.appendChild(gui.domElement);\r\n    const camUtils = {\r\n      invertRows: false,\r\n      invertColumns: false,\r\n      rotate45: false,\r\n      rotate: 0,\r\n      orientation: 'axial',\r\n      convention: 'radio',\r\n    };\r\n\r\n    // camera\r\n    const cameraFolder = gui.addFolder('Camera');\r\n    const invertRows = cameraFolder.add(camUtils, 'invertRows');\r\n    invertRows.onChange(() => {\r\n      camera.invertRows();\r\n    });\r\n\r\n    const invertColumns = cameraFolder.add(camUtils, 'invertColumns');\r\n    invertColumns.onChange(() => {\r\n      camera.invertColumns();\r\n    });\r\n\r\n    const rotate45 = cameraFolder.add(camUtils, 'rotate45');\r\n    rotate45.onChange(() => {\r\n      camera.rotate();\r\n    });\r\n\r\n    cameraFolder\r\n      .add(camera, 'angle', 0, 360)\r\n      .step(1)\r\n      .listen();\r\n\r\n    const conventionUpdate = cameraFolder.add(camUtils, 'convention', ['radio', 'neuro']);\r\n    conventionUpdate.onChange(value => {\r\n      camera.convention = value;\r\n      camera.update();\r\n      camera.fitBox(2);\r\n    });\r\n\r\n    const stackFolder = gui.addFolder('Stack');\r\n    stackFolder\r\n      .add(stackHelper, 'index', 0, stackHelper.stack.dimensionsIJK.z - 1)\r\n      .step(1)\r\n      .listen();\r\n    stackFolder\r\n      .add(stackHelper.slice, 'interpolation', 0, 1)\r\n      .step(1)\r\n      .listen();\r\n\r\n  };\r\n\r\n  }\r\n}\r\n","import \"../css/properties-sidebar.css\";\r\n\r\nexport default class BoxGeometryPanel {\r\n\r\n  constructor(box, id)\r\n  {   \r\n    this.id = id;\r\n    this.width = box.width;\r\n    this.height = box.height;\r\n    this.depth = box.depth;\r\n    this.widthSegments = box.widthSegments;\r\n    this.heightSegments = box.heightSegments;\r\n    this.depthSegments = box.depthSegments;\r\n    this.rotateX = box.rotateX;\r\n    this.rotateY = box.rotateY;\r\n    this.rotateZ = box.rotateZ; \r\n    this.positionX = box.positionX;\r\n    this.positionY = box.positionY;\r\n    this.positionZ = box.positionZ;  \r\n    \r\n    this.loadBoxGeometry = this.loadBoxGeometry.bind(this);\r\n    this.saveBoxGeometry = this.saveBoxGeometry.bind(this);\r\n    this.render = this.render.bind(this);\r\n  }\r\n\r\n  loadBoxGeometry() {\r\n\r\n  }\r\n\r\n  saveBoxGeometry() {\r\n    const fileData = JSON.stringify({\r\n      \"boxData\" : {\r\n        \"width\": this.width,\r\n        \"height\": this.height,\r\n        \"depth\": this.depth,\r\n        \"widthSegments\": this.widthSegments,\r\n        \"heightSegments\": this.heightSegments,\r\n        \"depthSegments\": this.depthSegments,\r\n        \"rotateX\": this.rotateX,\r\n        \"rotateY\": this.rotateY,\r\n        \"rotateZ\": this.rotateZ,\r\n        \"positionX\": this.positionX,\r\n        \"positionY\": this.positionY,\r\n        \"positionZ\": this.positionZ\r\n      }\r\n    });\r\n    const blob = new Blob([fileData], {type: \"text/plain\"});\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'box.json';\r\n    link.href = url;\r\n    link.click();\r\n  }\r\n\r\n\trender() {\r\n    var boxGeometry = document.createElement(\"div\");\r\n    boxGeometry.id = \"boxgeometry\"+this.id;\r\n\r\n    // Create a span child to this div\r\n    var span = document.createElement(\"span\");\r\n    boxGeometry.appendChild(span);\r\n\r\n    // Create a panel with box width, height and depth\r\n    var panel = document.createElement(\"div\");\r\n    panel.className = \"Panel\";\r\n    span.appendChild(panel);\r\n\r\n    // Width row\r\n    var row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n\r\n    var textHeading = document.createElement(\"span\");\r\n    textHeading.className = \"Text\";\r\n    textHeading.classList.add(\"Heading\");\r\n    textHeading.innerHTML = \"Box Dimensions\";\r\n    row.appendChild(textHeading);\r\n\r\n    var text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"width\";\r\n    row.appendChild(text);\r\n\r\n    var input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.className = \"Input\";\r\n    input.id = \"width\" + this.id;\r\n    input.value = this.width;\r\n    row.appendChild(input);\r\n    \r\n    // Height row\r\n\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"height\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.className = \"Input\";\r\n    input.id = \"height\" + this.id;\r\n    input.value = this.height;\r\n    row.appendChild(input);\r\n\r\n    // Depth row\r\n\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"depth\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.className = \"Input\";\r\n    input.id = \"depth\" + this.id;\r\n    input.value = this.depth;\r\n    row.appendChild(input);\r\n\r\n    // Create a panel with box rotation along X axis, Y axis and Z axis\r\n    panel = document.createElement(\"div\");\r\n    panel.className = \"Panel\";\r\n    span.appendChild(panel);\r\n\r\n    // ROtate X row\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    textHeading = document.createElement(\"span\");\r\n    textHeading.className = \"Text\";\r\n    textHeading.classList.add(\"Heading\");\r\n    textHeading.innerHTML = \"Box Rotation\";\r\n    row.appendChild(textHeading);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"x\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.setAttribute(\"min\", 0);\r\n    input.setAttribute(\"max\", 360);\r\n    input.className = \"Input\";\r\n    input.id = \"rotateX\" + this.id;\r\n    input.value = this.rotateX;\r\n    row.appendChild(input);\r\n    \r\n    // Rotate Y row\r\n\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"y\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.setAttribute(\"min\", 0);\r\n    input.setAttribute(\"max\", 360);\r\n    input.className = \"Input\";\r\n    input.id = \"rotateY\" + this.id;\r\n    input.value = this.rotateY;\r\n    row.appendChild(input);\r\n\r\n    // Rotate Z row\r\n\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"z\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.setAttribute(\"min\", 0);\r\n    input.setAttribute(\"max\", 360);\r\n    input.className = \"Input\";\r\n    input.id = \"rotateZ\" + this.id;\r\n    input.value = this.rotateZ;\r\n    row.appendChild(input);\r\n\r\n    // Create a panel with box position along X axis, Y axis and Z axis\r\n    panel = document.createElement(\"div\");\r\n    panel.className = \"Panel\";\r\n    span.appendChild(panel);\r\n\r\n    // Position X row\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    textHeading = document.createElement(\"span\");\r\n    textHeading.className = \"Text\";\r\n    textHeading.classList.add(\"Heading\");\r\n    textHeading.innerHTML = \"Box Position\";\r\n    row.appendChild(textHeading);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"x\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.className = \"Input\";\r\n    input.id = \"positionX\" + this.id;\r\n    input.value = this.positionX;\r\n    row.appendChild(input);\r\n    \r\n    // Position Y row\r\n\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"y\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.className = \"Input\";\r\n    input.id = \"positionY\" + this.id;\r\n    input.value = this.positionY;\r\n    row.appendChild(input);\r\n\r\n    // Position Z row\r\n\r\n    row = document.createElement(\"div\");\r\n    row.className = \"Row\";\r\n    panel.appendChild(row);\r\n\r\n    text = document.createElement(\"span\");\r\n    text.className = \"Text\";\r\n    text.innerHTML = \"z\";\r\n    row.appendChild(text);\r\n\r\n    input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"number\");\r\n    input.className = \"Input\";\r\n    input.id = \"positionZ\" + this.id;\r\n    input.value = this.positionZ;\r\n    row.appendChild(input);\r\n\r\n    document.getElementById(\"lesson1-properties-sidebar-panel\").appendChild(boxGeometry);\r\n\t}\r\n\r\n}","import LessonOnePreviewCard from './LessonOnePreviewCard.js';\r\nimport BoxGeometryPanel from './BoxGeometryPanel.js';\r\n\r\nvar boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n};\r\n\r\nfetch(\"https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];   \r\n  updateGeometries();\r\n});\r\n\r\nvar axial = new LessonOnePreviewCard(\"axial-container\", \"axial-gui-container\", \"0\", \"70\", \"axial\");\r\nvar sagittal = new LessonOnePreviewCard(\"sagittal-container\", \"sagittal-gui-container\", \"1\", \"50\", \"sagittal\");\r\nvar coronal = new LessonOnePreviewCard(\"coronal-container\", \"coronal-gui-container\", \"2\", \"55\", \"coronal\");\r\n\r\nfunction updateGeometries()\r\n{\r\n  axial.generateGeometry(boxData);\r\n  sagittal.generateGeometry(boxData);\r\n  coronal.generateGeometry(boxData);\r\n}\r\n\r\nfunction render()\r\n{ \r\n  axial.run();\r\n  sagittal.run();\r\n  coronal.run();\r\n}\r\n\r\n\r\nupdateGeometries();\r\nrender();\r\n\r\nconst boxId = \"l1\";\r\nvar boxGeometryPanel = new BoxGeometryPanel(boxData,boxId);\r\nboxGeometryPanel.render();\r\n\r\nfunction handleBoxGeometryChange(e)\r\n{\r\n  // Remove boxId appended at end of each Id\r\n  var property = e.target.id.slice(0,-boxId.length);\r\n  //Update boxData\r\n  boxData[property] = e.target.value;\r\n  updateGeometries();\r\n}\r\n\r\nconst boxGeometryL1 = document.getElementById(\"boxgeometry\"+boxId);\r\nconst properties = [\"width\",\"height\",\"depth\", \"rotateX\", \"rotateY\", \"rotateZ\", \"positionX\", \"positionY\", \"positionZ\"];\r\nproperties.forEach(property => document.getElementById(property+boxId)\r\n  .addEventListener(\"change\", handleBoxGeometryChange));\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}