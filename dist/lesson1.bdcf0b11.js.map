{"version":3,"sources":["src/utils.js","src/js/LessonOnePreviewCard.js","src/js/lesson1.js"],"names":["file","colors","red","lightGrey","boxData","width","height","depth","widthSegments","heightSegments","depthSegments","rotateX","rotateY","rotateZ","positionX","positionY","positionZ","geometry","THREE","BoxGeometry","material","MeshBasicMaterial","transparent","color","opacity","side","DoubleSide","wireframe","cube","Mesh","axialCube","coronalCube","sagittalCube","arrCube","generateGeometry","forEach","element","dispose","rotation","x","y","z","position","gui","dat","GUI","autoPlace","customContainer","document","getElementById","appendChild","domElement","boxFolder","addFolder","add","onChange","step","open","LessonOnePreviewCard","id","stackHelperOrientation","cameraZoomInFactor","cameraOrientation","box","scale","container","renderer","WebGLRenderer","antialias","setSize","offsetWidth","offsetHeight","setClearColor","setPixelRatio","window","devicePixelRatio","scene","Scene","camera","AMI","OrthographicCamera","clientWidth","clientHeight","controls","TrackballOrthoControl","staticMoving","noRotate","onWindowResize","canvas","fitBox","addEventListener","loader","VolumeLoader","load","then","series","data","mergeSeries","stack","free","stackHelper","StackHelper","bbox","visible","border","orientation","Number","worldbb","worldBoundingBox","lpsDims","Vector3","center","worldCenter","clone","halfDimensions","directions","xCosine","yCosine","zCosine","update","catch","error","console","log","animate","render","requestAnimationFrame","fetch","response","json","axial","sagittal","coronal","run"],"mappings":";;AEAA;;;;AAEA,IAAII,OAAO,GAAG;ADFd,ACGIC,AFHJ,EEGIA,KAAK,EAAE,EADG;AAEVC,AFHJ,EEGIA,MAAM,EAAE,EAFE;AAGVC,AFHG,EEGHA,EFHSP,GEGJ,CFHQ,CEGN,EAHG,AFAM,8EAAb;AEIHQ,EAAAA,aAAa,EAAE,CAJL;AAKVC,AFHG,EEGHA,EFHSR,MAAM,GAAG,GEGJ,EAAE,CALN;AAMVS,AFHFR,EEGEQ,AFHFR,GAAG,EAAE,QEGU,AFJK,EEIH,CANL;AAOVS,AFHFR,EEGEQ,AFHFR,OEGS,EAAE,AFHF,CEJG,CFID;AEITS,AFNkB,CAAf,CEMHA,OAAO,EAAE,CARC;AASVC,EAAAA,EDTiB6C,KCSV,EAAE,CATC;ADEZ,ACQE5C,AFFG,EEEHA,EFFOV,OEEE,AFFK,EEEH,CAVD,AFQO,kBCNPuD,EAAZ,EAAgBC,sBAAhB,EAAwCC,kBAAxC,EAA4DC,iBAA5D,EAA+E;AAAA,ACS7E/C,AFFAV,EEEAU,AFFAV,KAAK,EAAE,EEEE,AFHQ,EEGN,CAXD;AAYVW,AFFAV,EEEAU,AFFAV,MAAM,EAAE,CEEC,CFJQ,CEIN;ADTX,ACHU,AFWVC,CEXJ,CFWIA,KAAK,ECRAoD,ADQE,ECRP,ADKiB,GCLPA,EAAV;AACA,ACWJoE,AFHIvH,EAAAA,GEGC,CAAC,GDXGoB,IAAL,EDQa,CCRD,CDQG,CAJE,ECJDV,KAAK,CAACW,IAAV,ACWX,CDX2BZ,ACWhC,CACC6E,IADD,CACM,SDZU,CCYVkC,CDZoC5G,OCY5B,EAAI,MDZF,CAAZ;AACA,ACYD,AFJCX,EAAAA,OCRKmD,ACYCoE,OFJQ,CEIA,CAACC,AFJC,CALC,GESX,EAAP,ODZC,GAA8BrE,sBAA9B;AACA,ACYH,AFJGlD,CECJ,CFDIA,CEKHoF,IAJD,CAIM,CDbGjC,MDQQ,EAAE,CEKbmC,AFXe,IEWX,EAAI,GDbV,GAA0BnC,kBAA1B;AACA,ACaFzD,AFLEO,EEKFP,AFLEO,OCRKmD,ACaA,AFLE,EAAE,CEKDkC,AFZS,IEYL,CAAC,SDbb,ACaY,CAAd,EDb2BlC,iBAAzB;AACD,ACaD4D,AFLE9G,EEKF8G,AFLE9G,OEKK,A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","file":"lesson1.bdcf0b11.js","sourceRoot":"..","sourcesContent":["//export const file = 'https://cdn.rawgit.com/FNNDSC/data/master/nifti/adi_brain/adi_brain.nii.gz';\r\n//export const file = '..//data//adi_brain.nii.gz';\r\nexport const file = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/adi_brain.nii.gz';\r\n\r\nexport const colors = {\r\n  red: 0xff0000,\r\n  lightGrey: 0xffffff,\r\n};\r\n\r\n\r\nexport let boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n  };\r\n/*\r\nfetch(\"..//data//box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];\r\n  gui();\r\n  generateGeometry();\r\n});\r\n*/\r\n\r\nexport const geometry = new THREE.BoxGeometry( 1, 1, 1);\r\nexport const material = new THREE.MeshBasicMaterial( {transparent: true, color:0xff0000, opacity:0.5, side: THREE.DoubleSide, wireframe: true} );\r\n\r\nexport const cube = new THREE.Mesh( geometry, material );\r\nexport const axialCube = new THREE.Mesh( geometry, material );\r\nexport const coronalCube = new THREE.Mesh( geometry, material );\r\nexport const sagittalCube = new THREE.Mesh( geometry, material );\r\n\r\nconst arrCube = [cube, axialCube, coronalCube, sagittalCube];\r\nexport function generateGeometry() {\r\n  \r\n  arrCube.forEach(function(element)\r\n  {\r\n  \telement.geometry.dispose();\r\n  \telement.geometry = new THREE.BoxGeometry( \r\n\t  boxData.width, \r\n\t  boxData.height, \r\n\t  boxData.depth, \r\n\t  boxData.widthSegments, \r\n\t  boxData.heightSegments, \r\n\t  boxData.depthSegments);\r\n\telement.rotation.x = boxData.rotateX;\r\n\telement.rotation.y = boxData.rotateY;\r\n\telement.rotation.z = boxData.rotateZ;\r\n\telement.position.x = boxData.positionX;\r\n\telement.position.y = boxData.positionY;\r\n\telement.position.z = boxData.positionZ;\r\n  });\r\n  \r\n}\r\n\r\nfunction gui() {\r\n  const gui = new dat.GUI({\r\n    autoPlace: false,\r\n  });\r\n\r\n  const customContainer = document.getElementById('main-gui-container');\r\n  customContainer.appendChild(gui.domElement);\r\n\r\n  const boxFolder = gui.addFolder( 'Box Geometry' );\r\n\r\n  boxFolder.add( boxData, 'width', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'height', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depth', 1, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'widthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'heightSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'rotateX', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateY', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateZ', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData , 'positionX', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionY', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionZ', -100, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.open();\r\n};\r\n\r\n\r\n","import { colors, file, geometry, material } from '../utils.js';\r\n\r\nexport default class LessonOnePreviewCard {\r\n\r\n  constructor(id, stackHelperOrientation, cameraZoomInFactor, cameraOrientation) {\r\n    this.id = id;\r\n    this.cube = new THREE.Mesh( geometry, material );\r\n    this.stackHelperOrientation = stackHelperOrientation;\r\n    this.cameraZoomInFactor = cameraZoomInFactor;\r\n    this.cameraOrientation = cameraOrientation;\r\n  }\r\n\r\n  generateGeometry(box) {\r\n\r\n    this.cube.scale.x = box.width;\r\n    this.cube.scale.y = box.height;\r\n    this.cube.scale.z = box.depth;\r\n    this.cube.rotation.x = box.rotateX * 0.01745329; // degree to radians\r\n    this.cube.rotation.y = box.rotateY * 0.01745329;\r\n    this.cube.rotation.z = box.rotateZ * 0.01745329;\r\n    this.cube.position.x = box.positionX;\r\n    this.cube.position.y = box.positionY;\r\n    this.cube.position.z = box.positionZ;\r\n  }\r\n\r\n  run() {\r\n    \r\n    // Setup renderer\r\n    const container = document.getElementById(this.id);\r\n    const renderer = new THREE.WebGLRenderer({\r\n      antialias: true,\r\n    });\r\n    renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    renderer.setClearColor(colors.lightGrey, 1);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    container.appendChild(renderer.domElement);\r\n\r\n    // Create scene\r\n    const scene = new THREE.Scene();\r\n    \r\n    scene.add(this.cube);\r\n\r\n    // Camera\r\n    const camera = new AMI.OrthographicCamera(\r\n      container.clientWidth / -2,\r\n      container.clientWidth / 2,\r\n      container.clientHeight / 2,\r\n      container.clientHeight / -2,\r\n      0.1,\r\n      10000\r\n    );\r\n\r\n    // Setup controls\r\n    const controls = new AMI.TrackballOrthoControl(camera, container);\r\n    controls.staticMoving = true;\r\n    controls.noRotate = true;\r\n    camera.controls = controls;\r\n\r\n    // Resize canvas when the window resizes\r\n    const onWindowResize = () => {\r\n      camera.canvas = {\r\n        width: container.offsetWidth,\r\n        height: container.offsetHeight,\r\n      };\r\n      camera.fitBox(2);\r\n\r\n      renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    };\r\n    window.addEventListener('resize', onWindowResize, false);\r\n\r\n    // Load image data\r\n    const loader = new AMI.VolumeLoader(container);\r\n    loader\r\n      .load(file)\r\n      .then(() => {\r\n        const series = loader.data[0].mergeSeries(loader.data);\r\n        const stack = series[0].stack[0];\r\n        loader.free();\r\n\r\n        const stackHelper = new AMI.StackHelper(stack);\r\n        stackHelper.bbox.visible = false;\r\n        stackHelper.border.color = colors.red;\r\n        stackHelper.orientation = Number(this.stackHelperOrientation);\r\n        scene.add(stackHelper);\r\n\r\n        //gui(stackHelper);\r\n\r\n        // center camera and interactor to center of bouding box\r\n        // for nicer experience\r\n        // set camera\r\n        const worldbb = stack.worldBoundingBox();\r\n        const lpsDims = new THREE.Vector3(\r\n          worldbb[1] - worldbb[0],\r\n          worldbb[3] - worldbb[2],\r\n          worldbb[5] - worldbb[4]\r\n        );\r\n\r\n        const box = {\r\n          center: stack.worldCenter().clone(),\r\n          halfDimensions: new THREE.Vector3(\r\n            lpsDims.x - this.cameraZoomInFactor, \r\n            lpsDims.y - this.cameraZoomInFactor, \r\n            lpsDims.z - this.cameraZoomInFactor),\r\n        };\r\n\r\n        // init and zoom\r\n        const canvas = {\r\n          width: container.clientWidth,\r\n          height: container.clientHeight,\r\n        };\r\n\r\n        camera.directions = [stack.xCosine, stack.yCosine, stack.zCosine];\r\n        camera.box = box;\r\n        camera.canvas = canvas;\r\n        camera.orientation = this.cameraOrientation;\r\n        camera.update();\r\n        camera.fitBox(2);\r\n      })\r\n      .catch(error => {\r\n        window.console.log('oops... something went wrong...');\r\n        window.console.log(error);\r\n      });\r\n\r\n    const animate = () => {\r\n      controls.update();\r\n      renderer.render(scene, camera);\r\n\r\n      requestAnimationFrame(function() {\r\n        animate();\r\n      });\r\n    };\r\n\r\n    animate();\r\n  }\r\n}\r\n","import LessonOnePreviewCard from './LessonOnePreviewCard.js';\r\n\r\nlet boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n};\r\n\r\nfetch(\"..//..//data//box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];\r\n  console.log(\"Data: \" + boxData);\r\n});\r\n\r\nvar axial = new LessonOnePreviewCard(\"axial-container\", \"0\", \"70\", \"axial\");\r\nvar sagittal = new LessonOnePreviewCard(\"sagittal-container\", \"1\", \"50\", \"sagittal\");\r\nvar coronal = new LessonOnePreviewCard(\"coronal-container\", \"2\", \"55\", \"coronal\");\r\n\r\naxial.generateGeometry(boxData);\r\nsagittal.generateGeometry(boxData);\r\ncoronal.generateGeometry(boxData);\r\n\r\naxial.run();\r\nsagittal.run();\r\ncoronal.run();\r\n"]}