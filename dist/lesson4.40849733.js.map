{"version":3,"sources":["src/utils.js","src/js/LessonFourPreviewCard.js","src/js/lesson4.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["file","file4","annotation","colors","red","lightGrey","boxData","width","height","depth","widthSegments","heightSegments","depthSegments","rotateX","rotateY","rotateZ","positionX","positionY","positionZ","geometry","THREE","BoxGeometry","material","MeshBasicMaterial","transparent","color","opacity","side","DoubleSide","wireframe","cube","Mesh","axialCube","coronalCube","sagittalCube","arrCube","generateGeometry","forEach","element","dispose","rotation","x","y","z","position","gui","dat","GUI","autoPlace","customContainer","document","getElementById","appendChild","domElement","boxFolder","addFolder","add","onChange","step","open","LessonFourPreviewCard","id","guiId","stackHelperOrientation","cameraZoomInFactor","cameraOrientation","box","scale","container","renderer","WebGLRenderer","antialias","setSize","offsetWidth","offsetHeight","setClearColor","setPixelRatio","window","devicePixelRatio","scene","Scene","scene2","camera","AMI","OrthographicCamera","clientWidth","clientHeight","controls","TrackballOrthoControl","staticMoving","noRotate","onWindowResize","canvas","fitBox","addEventListener","loader","VolumeLoader","load","then","series","data","mergeSeries","stack","free","stackHelper","StackHelper","bbox","visible","border","orientation","Number","worldbb","worldBoundingBox","lpsDims","Vector3","center","worldCenter","clone","halfDimensions","directions","xCosine","yCosine","zCosine","update","catch","error","console","log","loader2","animate","render","requestAnimationFrame","camUtils","invertRows","invertColumns","rotate45","rotate","convention","cameraFolder","listen","conventionUpdate","value","stackFolder","dimensionsIJK","slice","fetch","response","json","axial","sagittal","coronal","updateGeometries","run","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","body","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACO,IAAMA,IAAI,GAAG,8EAAb;;AACA,IAAMC,KAAK,GAAG,sGAAd;;AACA,IAAMC,UAAU,GAAG,0EAAnB;;AAEA,IAAMC,MAAM,GAAG;AACpBC,EAAAA,GAAG,EAAE,QADe;AAEpBC,EAAAA,SAAS,EAAE;AAFS,CAAf;;AAMA,IAAIC,OAAO,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AAEjBC,EAAAA,MAAM,EAAE,EAFS;AAGjBC,EAAAA,KAAK,EAAE,EAHU;AAIjBC,EAAAA,aAAa,EAAE,CAJE;AAKjBC,EAAAA,cAAc,EAAE,CALC;AAMjBC,EAAAA,aAAa,EAAE,CANE;AAOjBC,EAAAA,OAAO,EAAE,CAPQ;AAQjBC,EAAAA,OAAO,EAAE,CARQ;AASjBC,EAAAA,OAAO,EAAE,CATQ;AAUjBC,EAAAA,SAAS,EAAE,CAVM;AAWjBC,EAAAA,SAAS,EAAE,CAXM;AAYjBC,EAAAA,SAAS,EAAE;AAZM,CAAd;AAcP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEO,IAAMC,QAAQ,GAAG,IAAIC,KAAK,CAACC,WAAV,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,CAAjB;;AACA,IAAMC,QAAQ,GAAG,IAAIF,KAAK,CAACG,iBAAV,CAA6B;AAACC,EAAAA,WAAW,EAAE,IAAd;AAAoBC,EAAAA,KAAK,EAAC,QAA1B;AAAoCC,EAAAA,OAAO,EAAC,GAA5C;AAAiDC,EAAAA,IAAI,EAAEP,KAAK,CAACQ,UAA7D;AAAyEC,EAAAA,SAAS,EAAE;AAApF,CAA7B,CAAjB;;AAEA,IAAMC,IAAI,GAAG,IAAIV,KAAK,CAACW,IAAV,CAAgBZ,QAAhB,EAA0BG,QAA1B,CAAb;;AACA,IAAMU,SAAS,GAAG,IAAIZ,KAAK,CAACW,IAAV,CAAgBZ,QAAhB,EAA0BG,QAA1B,CAAlB;;AACA,IAAMW,WAAW,GAAG,IAAIb,KAAK,CAACW,IAAV,CAAgBZ,QAAhB,EAA0BG,QAA1B,CAApB;;AACA,IAAMY,YAAY,GAAG,IAAId,KAAK,CAACW,IAAV,CAAgBZ,QAAhB,EAA0BG,QAA1B,CAArB;;AAEP,IAAMa,OAAO,GAAG,CAACL,IAAD,EAAOE,SAAP,EAAkBC,WAAlB,EAA+BC,YAA/B,CAAhB;;AACO,SAASE,gBAAT,GAA4B;AAEjCD,EAAAA,OAAO,CAACE,OAAR,CAAgB,UAASC,OAAT,EAChB;AACCA,IAAAA,OAAO,CAACnB,QAAR,CAAiBoB,OAAjB;AACAD,IAAAA,OAAO,CAACnB,QAAR,GAAmB,IAAIC,KAAK,CAACC,WAAV,CACnBf,OAAO,CAACC,KADW,EAEnBD,OAAO,CAACE,MAFW,EAGnBF,OAAO,CAACG,KAHW,EAInBH,OAAO,CAACI,aAJW,EAKnBJ,OAAO,CAACK,cALW,EAMnBL,OAAO,CAACM,aANW,CAAnB;AAOF0B,IAAAA,OAAO,CAACE,QAAR,CAAiBC,CAAjB,GAAqBnC,OAAO,CAACO,OAA7B;AACAyB,IAAAA,OAAO,CAACE,QAAR,CAAiBE,CAAjB,GAAqBpC,OAAO,CAACQ,OAA7B;AACAwB,IAAAA,OAAO,CAACE,QAAR,CAAiBG,CAAjB,GAAqBrC,OAAO,CAACS,OAA7B;AACAuB,IAAAA,OAAO,CAACM,QAAR,CAAiBH,CAAjB,GAAqBnC,OAAO,CAACU,SAA7B;AACAsB,IAAAA,OAAO,CAACM,QAAR,CAAiBF,CAAjB,GAAqBpC,OAAO,CAACW,SAA7B;AACAqB,IAAAA,OAAO,CAACM,QAAR,CAAiBD,CAAjB,GAAqBrC,OAAO,CAACY,SAA7B;AACE,GAhBD;AAkBD;;AAED,SAAS2B,GAAT,GAAe;AACb,MAAMA,GAAG,GAAG,IAAIC,GAAG,CAACC,GAAR,CAAY;AACtBC,IAAAA,SAAS,EAAE;AADW,GAAZ,CAAZ;AAIA,MAAMC,eAAe,GAAGC,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAAxB;AACAF,EAAAA,eAAe,CAACG,WAAhB,CAA4BP,GAAG,CAACQ,UAAhC;AAEA,MAAMC,SAAS,GAAGT,GAAG,CAACU,SAAJ,CAAe,cAAf,CAAlB;AAEAD,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,OAAxB,EAAiC,CAAjC,EAAoC,GAApC,EAA0CmD,QAA1C,CAAoDrB,gBAApD;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,QAAxB,EAAkC,CAAlC,EAAqC,GAArC,EAA2CmD,QAA3C,CAAqDrB,gBAArD;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,OAAxB,EAAiC,CAAjC,EAAoC,GAApC,EAA0CmD,QAA1C,CAAoDrB,gBAApD;AAEAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,eAAxB,EAAyC,CAAzC,EAA4C,EAA5C,EAAiDoD,IAAjD,CAAuD,CAAvD,EAA2DD,QAA3D,CAAqErB,gBAArE;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,gBAAxB,EAA0C,CAA1C,EAA6C,EAA7C,EAAkDoD,IAAlD,CAAwD,CAAxD,EAA4DD,QAA5D,CAAsErB,gBAAtE;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,eAAxB,EAAyC,CAAzC,EAA4C,EAA5C,EAAiDoD,IAAjD,CAAuD,CAAvD,EAA2DD,QAA3D,CAAqErB,gBAArE;AAEAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,SAAxB,EAAmC,CAAnC,EAAsC,GAAtC,EAA4CmD,QAA5C,CAAsDrB,gBAAtD;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,SAAxB,EAAmC,CAAnC,EAAsC,GAAtC,EAA4CmD,QAA5C,CAAsDrB,gBAAtD;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,SAAxB,EAAmC,CAAnC,EAAsC,GAAtC,EAA4CmD,QAA5C,CAAsDrB,gBAAtD;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAyB,WAAzB,EAAsC,CAAC,GAAvC,EAA4C,GAA5C,EAAkDmD,QAAlD,CAA4DrB,gBAA5D;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,WAAxB,EAAqC,CAAC,GAAtC,EAA2C,GAA3C,EAAiDmD,QAAjD,CAA2DrB,gBAA3D;AACAkB,EAAAA,SAAS,CAACE,GAAV,CAAelD,OAAf,EAAwB,WAAxB,EAAqC,CAAC,GAAtC,EAA2C,GAA3C,EAAiDmD,QAAjD,CAA2DrB,gBAA3D;AAEAkB,EAAAA,SAAS,CAACK,IAAV;AACD;;AAAA;;;;;;;;;AC/FD;;;;;;;;IAEqBC;AAEnB,iCAAYC,EAAZ,EAAgBC,KAAhB,EAAuBC,sBAAvB,EAA+CC,kBAA/C,EAAmEC,iBAAnE,EAAsF;AAAA;;AACpF,SAAKJ,EAAL,GAAUA,EAAV;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKhC,IAAL,GAAY,IAAIV,KAAK,CAACW,IAAV,CAAgBZ,eAAhB,EAA0BG,eAA1B,CAAZ;AACA,SAAKyC,sBAAL,GAA8BA,sBAA9B;AACA,SAAKC,kBAAL,GAA0BA,kBAA1B;AACA,SAAKC,iBAAL,GAAyBA,iBAAzB;AACD;;;;qCAEgBC,KAAK;AAEpB,WAAKpC,IAAL,CAAUqC,KAAV,CAAgB1B,CAAhB,GAAoByB,GAAG,CAAC3D,KAAxB;AACA,WAAKuB,IAAL,CAAUqC,KAAV,CAAgBzB,CAAhB,GAAoBwB,GAAG,CAAC1D,MAAxB;AACA,WAAKsB,IAAL,CAAUqC,KAAV,CAAgBxB,CAAhB,GAAoBuB,GAAG,CAACzD,KAAxB;AACA,WAAKqB,IAAL,CAAUU,QAAV,CAAmBC,CAAnB,GAAuByB,GAAG,CAACrD,OAAJ,GAAc,UAArC,CALoB,CAK6B;;AACjD,WAAKiB,IAAL,CAAUU,QAAV,CAAmBE,CAAnB,GAAuBwB,GAAG,CAACpD,OAAJ,GAAc,UAArC;AACA,WAAKgB,IAAL,CAAUU,QAAV,CAAmBG,CAAnB,GAAuBuB,GAAG,CAACnD,OAAJ,GAAc,UAArC;AACA,WAAKe,IAAL,CAAUc,QAAV,CAAmBH,CAAnB,GAAuByB,GAAG,CAAClD,SAA3B;AACA,WAAKc,IAAL,CAAUc,QAAV,CAAmBF,CAAnB,GAAuBwB,GAAG,CAACjD,SAA3B;AACA,WAAKa,IAAL,CAAUc,QAAV,CAAmBD,CAAnB,GAAuBuB,GAAG,CAAChD,SAA3B;AACD;;;0BAEK;AAAA;;AAEJ;AACA,UAAMkD,SAAS,GAAGlB,QAAQ,CAACC,cAAT,CAAwB,KAAKU,EAA7B,CAAlB;AACA,UAAMQ,QAAQ,GAAG,IAAIjD,KAAK,CAACkD,aAAV,CAAwB;AACvCC,QAAAA,SAAS,EAAE;AAD4B,OAAxB,CAAjB;AAGAF,MAAAA,QAAQ,CAACG,OAAT,CAAiBJ,SAAS,CAACK,WAA3B,EAAwCL,SAAS,CAACM,YAAlD;AACAL,MAAAA,QAAQ,CAACM,aAAT,CAAuBxE,cAAOE,SAA9B,EAAyC,CAAzC;AACAgE,MAAAA,QAAQ,CAACO,aAAT,CAAuBC,MAAM,CAACC,gBAA9B;AACAV,MAAAA,SAAS,CAAChB,WAAV,CAAsBiB,QAAQ,CAAChB,UAA/B,EAVI,CAYJ;;AACA,UAAM0B,KAAK,GAAG,IAAI3D,KAAK,CAAC4D,KAAV,EAAd;AACA,UAAMC,MAAM,GAAG,IAAI7D,KAAK,CAAC4D,KAAV,EAAf;AAGAD,MAAAA,KAAK,CAACvB,GAAN,CAAU,KAAK1B,IAAf,EAjBI,CAmBJ;;AACA,UAAMoD,MAAM,GAAG,IAAIC,GAAG,CAACC,kBAAR,CACbhB,SAAS,CAACiB,WAAV,GAAwB,CAAC,CADZ,EAEbjB,SAAS,CAACiB,WAAV,GAAwB,CAFX,EAGbjB,SAAS,CAACkB,YAAV,GAAyB,CAHZ,EAIblB,SAAS,CAACkB,YAAV,GAAyB,CAAC,CAJb,EAKb,GALa,EAMb,KANa,CAAf,CApBI,CA6BJ;;AACA,UAAMC,QAAQ,GAAG,IAAIJ,GAAG,CAACK,qBAAR,CAA8BN,MAA9B,EAAsCd,SAAtC,CAAjB;AACAmB,MAAAA,QAAQ,CAACE,YAAT,GAAwB,IAAxB;AACAF,MAAAA,QAAQ,CAACG,QAAT,GAAoB,IAApB;AACAR,MAAAA,MAAM,CAACK,QAAP,GAAkBA,QAAlB,CAjCI,CAmCJ;;AACA,UAAMI,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BT,QAAAA,MAAM,CAACU,MAAP,GAAgB;AACdrF,UAAAA,KAAK,EAAE6D,SAAS,CAACK,WADH;AAEdjE,UAAAA,MAAM,EAAE4D,SAAS,CAACM;AAFJ,SAAhB;AAIAQ,QAAAA,MAAM,CAACW,MAAP,CAAc,CAAd;AAEAxB,QAAAA,QAAQ,CAACG,OAAT,CAAiBJ,SAAS,CAACK,WAA3B,EAAwCL,SAAS,CAACM,YAAlD;AACD,OARD;;AASAG,MAAAA,MAAM,CAACiB,gBAAP,CAAwB,QAAxB,EAAkCH,cAAlC,EAAkD,KAAlD,EA7CI,CA+CJ;;AACA,UAAMI,MAAM,GAAG,IAAIZ,GAAG,CAACa,YAAR,CAAqB5B,SAArB,CAAf;AACA2B,MAAAA,MAAM,CACHE,IADH,CACQhG,YADR,EAEGiG,IAFH,CAEQ,YAAM;AACV,YAAMC,MAAM,GAAGJ,MAAM,CAACK,IAAP,CAAY,CAAZ,EAAeC,WAAf,CAA2BN,MAAM,CAACK,IAAlC,CAAf;AACA,YAAME,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,CAAUG,KAAV,CAAgB,CAAhB,CAAd;AACAP,QAAAA,MAAM,CAACQ,IAAP;AAEA,YAAMC,WAAW,GAAG,IAAIrB,GAAG,CAACsB,WAAR,CAAoBH,KAApB,CAApB;AACAE,QAAAA,WAAW,CAACE,IAAZ,CAAiBC,OAAjB,GAA2B,KAA3B;AACAH,QAAAA,WAAW,CAACI,MAAZ,CAAmBnF,KAAnB,GAA2BtB,cAAOC,GAAlC;AACAoG,QAAAA,WAAW,CAACK,WAAZ,GAA0BC,MAAM,CAAC,KAAI,CAAC/C,sBAAN,CAAhC;AACAgB,QAAAA,KAAK,CAACvB,GAAN,CAAUgD,WAAV;AAEA3D,QAAAA,GAAG,CAAC2D,WAAD,CAAH,CAXU,CAaV;AACA;AACA;;AACA,YAAMO,OAAO,GAAGT,KAAK,CAACU,gBAAN,EAAhB;AACA,YAAMC,OAAO,GAAG,IAAI7F,KAAK,CAAC8F,OAAV,CACdH,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CADN,EAEdA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAFN,EAGdA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAHN,CAAhB;AAMA,YAAM7C,GAAG,GAAG;AACViD,UAAAA,MAAM,EAAEb,KAAK,CAACc,WAAN,GAAoBC,KAApB,EADE;AAEVC,UAAAA,cAAc,EAAE,IAAIlG,KAAK,CAAC8F,OAAV,CACdD,OAAO,CAACxE,CAAR,GAAY,KAAI,CAACuB,kBADH,EAEdiD,OAAO,CAACvE,CAAR,GAAY,KAAI,CAACsB,kBAFH,EAGdiD,OAAO,CAACtE,CAAR,GAAY,KAAI,CAACqB,kBAHH;AAFN,SAAZ,CAvBU,CA+BV;;AACA,YAAM4B,MAAM,GAAG;AACbrF,UAAAA,KAAK,EAAE6D,SAAS,CAACiB,WADJ;AAEb7E,UAAAA,MAAM,EAAE4D,SAAS,CAACkB;AAFL,SAAf;AAKAJ,QAAAA,MAAM,CAACqC,UAAP,GAAoB,CAACjB,KAAK,CAACkB,OAAP,EAAgBlB,KAAK,CAACmB,OAAtB,EAA+BnB,KAAK,CAACoB,OAArC,CAApB;AACAxC,QAAAA,MAAM,CAAChB,GAAP,GAAaA,GAAb;AACAgB,QAAAA,MAAM,CAACU,MAAP,GAAgBA,MAAhB;AACAV,QAAAA,MAAM,CAAC2B,WAAP,GAAqB,KAAI,CAAC5C,iBAA1B;AACAiB,QAAAA,MAAM,CAACyC,MAAP;AACAzC,QAAAA,MAAM,CAACW,MAAP,CAAc,CAAd;AACD,OA7CH,EA8CG+B,KA9CH,CA8CS,UAAAC,KAAK,EAAI;AACdhD,QAAAA,MAAM,CAACiD,OAAP,CAAeC,GAAf,CAAmB,iCAAnB;AACAlD,QAAAA,MAAM,CAACiD,OAAP,CAAeC,GAAf,CAAmBF,KAAnB;AACD,OAjDH;AAmDA,UAAMG,OAAO,GAAG,IAAI7C,GAAG,CAACa,YAAR,CAAqB5B,SAArB,CAAhB;AACA4D,MAAAA,OAAO,CACJ/B,IADH,CACQ/F,iBADR,EAEGgG,IAFH,CAEQ,YAAM;AACV,YAAMC,MAAM,GAAG6B,OAAO,CAAC5B,IAAR,CAAa,CAAb,EAAgBC,WAAhB,CAA4BN,MAAM,CAACK,IAAnC,CAAf;AACA,YAAME,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,CAAUG,KAAV,CAAgB,CAAhB,CAAd;AACA0B,QAAAA,OAAO,CAACzB,IAAR;AAEA,YAAMC,WAAW,GAAG,IAAIrB,GAAG,CAACsB,WAAR,CAAoBH,KAApB,CAApB;AACAE,QAAAA,WAAW,CAACE,IAAZ,CAAiBC,OAAjB,GAA2B,KAA3B;AACAH,QAAAA,WAAW,CAACI,MAAZ,CAAmBnF,KAAnB,GAA2BtB,cAAOC,GAAlC;AACAoG,QAAAA,WAAW,CAACK,WAAZ,GAA0BC,MAAM,CAAC,KAAI,CAAC/C,sBAAN,CAAhC;AACAgB,QAAAA,KAAK,CAACvB,GAAN,CAAUgD,WAAV;AAEA3D,QAAAA,GAAG,CAAC2D,WAAD,CAAH,CAXU,CAaV;AACA;AACA;;AACA,YAAMO,OAAO,GAAGT,KAAK,CAACU,gBAAN,EAAhB;AACA,YAAMC,OAAO,GAAG,IAAI7F,KAAK,CAAC8F,OAAV,CACdH,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CADN,EAEdA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAFN,EAGdA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAHN,CAAhB;AAMA,YAAM7C,GAAG,GAAG;AACViD,UAAAA,MAAM,EAAEb,KAAK,CAACc,WAAN,GAAoBC,KAApB,EADE;AAEVC,UAAAA,cAAc,EAAE,IAAIlG,KAAK,CAAC8F,OAAV,CACdD,OAAO,CAACxE,CAAR,GAAY,KAAI,CAACuB,kBADH,EAEdiD,OAAO,CAACvE,CAAR,GAAY,KAAI,CAACsB,kBAFH,EAGdiD,OAAO,CAACtE,CAAR,GAAY,KAAI,CAACqB,kBAHH;AAFN,SAAZ,CAvBU,CA+BV;;AACA,YAAM4B,MAAM,GAAG;AACbrF,UAAAA,KAAK,EAAE6D,SAAS,CAACiB,WADJ;AAEb7E,UAAAA,MAAM,EAAE4D,SAAS,CAACkB;AAFL,SAAf;AAKAJ,QAAAA,MAAM,CAACqC,UAAP,GAAoB,CAACjB,KAAK,CAACkB,OAAP,EAAgBlB,KAAK,CAACmB,OAAtB,EAA+BnB,KAAK,CAACoB,OAArC,CAApB;AACAxC,QAAAA,MAAM,CAAChB,GAAP,GAAaA,GAAb;AACAgB,QAAAA,MAAM,CAACU,MAAP,GAAgBA,MAAhB;AACAV,QAAAA,MAAM,CAAC2B,WAAP,GAAqB,KAAI,CAAC5C,iBAA1B;AACAiB,QAAAA,MAAM,CAACyC,MAAP;AACAzC,QAAAA,MAAM,CAACW,MAAP,CAAc,CAAd;AACD,OA7CH,EA8CG+B,KA9CH,CA8CS,UAAAC,KAAK,EAAI;AACdhD,QAAAA,MAAM,CAACiD,OAAP,CAAeC,GAAf,CAAmB,iCAAnB;AACAlD,QAAAA,MAAM,CAACiD,OAAP,CAAeC,GAAf,CAAmBF,KAAnB;AACD,OAjDH;;AAoDA,UAAMI,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB1C,QAAAA,QAAQ,CAACoC,MAAT;AAEAtD,QAAAA,QAAQ,CAAC6D,MAAT,CAAgBnD,KAAhB,EAAuBG,MAAvB,EAHoB,CAIpB;;AAGAiD,QAAAA,qBAAqB,CAAC,YAAW;AAC/BF,UAAAA,OAAO;AACR,SAFoB,CAArB;AAGD,OAVD;;AAYAA,MAAAA,OAAO,GArKH,CAuKJ;;AACA,UAAMpF,GAAG,GAAG,aAAA2D,WAAW,EAAI;AAC3B,YAAM3D,GAAG,GAAG,IAAIC,GAAG,CAACC,GAAR,CAAY;AACtBC,UAAAA,SAAS,EAAE;AADW,SAAZ,CAAZ;AAIA,YAAMC,eAAe,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAI,CAACW,KAA7B,CAAxB;AACAb,QAAAA,eAAe,CAACG,WAAhB,CAA4BP,GAAG,CAACQ,UAAhC;AACA,YAAM+E,QAAQ,GAAG;AACfC,UAAAA,UAAU,EAAE,KADG;AAEfC,UAAAA,aAAa,EAAE,KAFA;AAGfC,UAAAA,QAAQ,EAAE,KAHK;AAIfC,UAAAA,MAAM,EAAE,CAJO;AAKf3B,UAAAA,WAAW,EAAE,OALE;AAMf4B,UAAAA,UAAU,EAAE;AANG,SAAjB,CAP2B,CAgB3B;;AACA,YAAMC,YAAY,GAAG7F,GAAG,CAACU,SAAJ,CAAc,QAAd,CAArB;AACA,YAAM8E,UAAU,GAAGK,YAAY,CAAClF,GAAb,CAAiB4E,QAAjB,EAA2B,YAA3B,CAAnB;AACAC,QAAAA,UAAU,CAAC5E,QAAX,CAAoB,YAAM;AACxByB,UAAAA,MAAM,CAACmD,UAAP;AACD,SAFD;AAIA,YAAMC,aAAa,GAAGI,YAAY,CAAClF,GAAb,CAAiB4E,QAAjB,EAA2B,eAA3B,CAAtB;AACAE,QAAAA,aAAa,CAAC7E,QAAd,CAAuB,YAAM;AAC3ByB,UAAAA,MAAM,CAACoD,aAAP;AACD,SAFD;AAIA,YAAMC,QAAQ,GAAGG,YAAY,CAAClF,GAAb,CAAiB4E,QAAjB,EAA2B,UAA3B,CAAjB;AACAG,QAAAA,QAAQ,CAAC9E,QAAT,CAAkB,YAAM;AACtByB,UAAAA,MAAM,CAACsD,MAAP;AACD,SAFD;AAIAE,QAAAA,YAAY,CACTlF,GADH,CACO0B,MADP,EACe,OADf,EACwB,CADxB,EAC2B,GAD3B,EAEGxB,IAFH,CAEQ,CAFR,EAGGiF,MAHH;AAKA,YAAMC,gBAAgB,GAAGF,YAAY,CAAClF,GAAb,CAAiB4E,QAAjB,EAA2B,YAA3B,EAAyC,CAAC,OAAD,EAAU,OAAV,CAAzC,CAAzB;AACAQ,QAAAA,gBAAgB,CAACnF,QAAjB,CAA0B,UAAAoF,KAAK,EAAI;AACjC3D,UAAAA,MAAM,CAACuD,UAAP,GAAoBI,KAApB;AACA3D,UAAAA,MAAM,CAACyC,MAAP;AACAzC,UAAAA,MAAM,CAACW,MAAP,CAAc,CAAd;AACD,SAJD;AAMA,YAAMiD,WAAW,GAAGjG,GAAG,CAACU,SAAJ,CAAc,OAAd,CAApB;AACAuF,QAAAA,WAAW,CACRtF,GADH,CACOgD,WADP,EACoB,OADpB,EAC6B,CAD7B,EACgCA,WAAW,CAACF,KAAZ,CAAkByC,aAAlB,CAAgCpG,CAAhC,GAAoC,CADpE,EAEGe,IAFH,CAEQ,CAFR,EAGGiF,MAHH;AAIAG,QAAAA,WAAW,CACRtF,GADH,CACOgD,WAAW,CAACwC,KADnB,EAC0B,eAD1B,EAC2C,CAD3C,EAC8C,CAD9C,EAEGtF,IAFH,CAEQ,CAFR,EAGGiF,MAHH;AAKD,OAvDC;AAyDD;;;;;;;;;;AC3PH;;;;AAEA,IAAIrI,OAAO,GAAG;AACVC,EAAAA,KAAK,EAAE,EADG;AAEVC,EAAAA,MAAM,EAAE,EAFE;AAGVC,EAAAA,KAAK,EAAE,EAHG;AAIVC,EAAAA,aAAa,EAAE,CAJL;AAKVC,EAAAA,cAAc,EAAE,CALN;AAMVC,EAAAA,aAAa,EAAE,CANL;AAOVC,EAAAA,OAAO,EAAE,CAPC;AAQVC,EAAAA,OAAO,EAAE,CARC;AASVC,EAAAA,OAAO,EAAE,CATC;AAUVC,EAAAA,SAAS,EAAE,CAVD;AAWVC,EAAAA,SAAS,EAAE,CAXD;AAYVC,EAAAA,SAAS,EAAE;AAZD,CAAd;AAeA+H,KAAK,CAAC,sEAAD,CAAL,CACC/C,IADD,CACM,UAAAgD,QAAQ,EAAI;AACf,SAAOA,QAAQ,CAACC,IAAT,EAAP;AACF,CAHD,EAICjD,IAJD,CAIM,UAAAE,IAAI,EAAI;AACZ9F,EAAAA,OAAO,GAAG8F,IAAI,CAAC,SAAD,CAAd,CADY,CAEZ;AACD,CAPD;AASA,IAAIgD,KAAK,GAAG,IAAIxF,8BAAJ,CAA0B,iBAA1B,EAA6C,qBAA7C,EAAoE,GAApE,EAAyE,IAAzE,EAA+E,OAA/E,CAAZ;AACA,IAAIyF,QAAQ,GAAG,IAAIzF,8BAAJ,CAA0B,oBAA1B,EAAgD,wBAAhD,EAA0E,GAA1E,EAA+E,IAA/E,EAAqF,UAArF,CAAf;AACA,IAAI0F,OAAO,GAAG,IAAI1F,8BAAJ,CAA0B,mBAA1B,EAA+C,uBAA/C,EAAwE,GAAxE,EAA6E,IAA7E,EAAmF,SAAnF,CAAd;;AAGA,SAAS2F,gBAAT,GACA;AACEH,EAAAA,KAAK,CAAChH,gBAAN,CAAuB9B,OAAvB;AACA+I,EAAAA,QAAQ,CAACjH,gBAAT,CAA0B9B,OAA1B;AACAgJ,EAAAA,OAAO,CAAClH,gBAAR,CAAyB9B,OAAzB;AACD;;AAED,SAAS4H,MAAT,GACA;AACEkB,EAAAA,KAAK,CAACI,GAAN;AACAH,EAAAA,QAAQ,CAACG,GAAT;AACAF,EAAAA,OAAO,CAACE,GAAR;AACD,EAGD;;;AACAtB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClEA,IAAIuB,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcC,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;AAC1BJ,EAAAA,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqBD,UAArB;AACA,OAAKE,GAAL,GAAW;AACT5D,IAAAA,IAAI,EAAEuD,MAAM,CAACC,MAAP,CAAcK,OADX;AAETC,IAAAA,gBAAgB,EAAE,EAFT;AAGTC,IAAAA,iBAAiB,EAAE,EAHV;AAITC,IAAAA,MAAM,EAAE,UAAUC,EAAV,EAAc;AACpB,WAAKH,gBAAL,CAAsBI,IAAtB,CAA2BD,EAAE,IAAI,YAAY,CAAE,CAA/C;AACD,KANQ;AAOT9H,IAAAA,OAAO,EAAE,UAAU8H,EAAV,EAAc;AACrB,WAAKF,iBAAL,CAAuBG,IAAvB,CAA4BD,EAA5B;AACD;AATQ,GAAX;AAYAV,EAAAA,MAAM,CAACC,MAAP,CAAcK,OAAd,GAAwB,IAAxB;AACD;;AAEDN,MAAM,CAACC,MAAP,CAAcC,MAAd,GAAuBA,MAAvB;AACA,IAAIU,aAAJ,EAAmBC,cAAnB;AAEA,IAAIC,MAAM,GAAGd,MAAM,CAACC,MAAP,CAAca,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAACC,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;AAC5E,MAAIC,QAAQ,GAAG,MAA4BC,QAAQ,CAACD,QAApD;AACA,MAAIE,QAAQ,GAAGD,QAAQ,CAACC,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;AACA,MAAIC,EAAE,GAAG,IAAIJ,SAAJ,CAAcG,QAAQ,GAAG,KAAX,GAAmBF,QAAnB,GAA8B,GAA9B,aAA2D,GAAzE,CAAT;;AACAG,EAAAA,EAAE,CAACC,SAAH,GAAe,UAASC,KAAT,EAAgB;AAC7BV,IAAAA,aAAa,GAAG,EAAhB;AACAC,IAAAA,cAAc,GAAG,EAAjB;AAEA,QAAIpE,IAAI,GAAG8E,IAAI,CAACC,KAAL,CAAWF,KAAK,CAAC7E,IAAjB,CAAX;;AAEA,QAAIA,IAAI,CAACgF,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAIC,OAAO,GAAG,KAAd;AACAjF,MAAAA,IAAI,CAACkF,MAAL,CAAYjJ,OAAZ,CAAoB,UAASkJ,KAAT,EAAgB;AAClC,YAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,cAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBL,KAAK,CAAC1H,EAA7B,CAA9B;;AACA,cAAI4H,SAAJ,EAAe;AACbJ,YAAAA,OAAO,GAAG,IAAV;AACD;AACF;AACF,OAPD,EAF0B,CAW1B;;AACAA,MAAAA,OAAO,GAAGA,OAAO,IAAIjF,IAAI,CAACkF,MAAL,CAAYO,KAAZ,CAAkB,UAASN,KAAT,EAAgB;AACrD,eAAOA,KAAK,CAACH,IAAN,KAAe,KAAf,IAAwBG,KAAK,CAACO,SAAN,CAAgBC,EAA/C;AACD,OAFoB,CAArB;;AAIA,UAAIV,OAAJ,EAAa;AACXvD,QAAAA,OAAO,CAACkE,KAAR;AAEA5F,QAAAA,IAAI,CAACkF,MAAL,CAAYjJ,OAAZ,CAAoB,UAAUkJ,KAAV,EAAiB;AACnCU,UAAAA,QAAQ,CAACN,MAAM,CAACC,aAAR,EAAuBL,KAAvB,CAAR;AACD,SAFD;AAIAf,QAAAA,cAAc,CAACnI,OAAf,CAAuB,UAAU6J,CAAV,EAAa;AAClCC,UAAAA,YAAY,CAACD,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;AACD,SAFD;AAGD,OAVD,MAUO,IAAIrB,QAAQ,CAACuB,MAAb,EAAqB;AAAE;AAC5BvB,QAAAA,QAAQ,CAACuB,MAAT;AACD;AACF;;AAED,QAAIhG,IAAI,CAACgF,IAAL,KAAc,QAAlB,EAA4B;AAC1BL,MAAAA,EAAE,CAACsB,KAAH;;AACAtB,MAAAA,EAAE,CAACuB,OAAH,GAAa,YAAY;AACvBzB,QAAAA,QAAQ,CAACuB,MAAT;AACD,OAFD;AAGD;;AAED,QAAIhG,IAAI,CAACgF,IAAL,KAAc,gBAAlB,EAAoC;AAClCtD,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AAEAwE,MAAAA,kBAAkB;AACnB;;AAED,QAAInG,IAAI,CAACgF,IAAL,KAAc,OAAlB,EAA2B;AACzBtD,MAAAA,OAAO,CAACD,KAAR,CAAc,kBAAkBzB,IAAI,CAACyB,KAAL,CAAW2E,OAA7B,GAAuC,IAAvC,GAA8CpG,IAAI,CAACyB,KAAL,CAAWvB,KAAvE;AAEAiG,MAAAA,kBAAkB;AAElB,UAAIE,OAAO,GAAGC,kBAAkB,CAACtG,IAAD,CAAhC;AACAlD,MAAAA,QAAQ,CAACyJ,IAAT,CAAcvJ,WAAd,CAA0BqJ,OAA1B;AACD;AACF,GA1DD;AA2DD;;AAED,SAASF,kBAAT,GAA8B;AAC5B,MAAIE,OAAO,GAAGvJ,QAAQ,CAACC,cAAT,CAAwBsG,UAAxB,CAAd;;AACA,MAAIgD,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACG,MAAR;AACD;AACF;;AAED,SAASF,kBAAT,CAA4BtG,IAA5B,EAAkC;AAChC,MAAIqG,OAAO,GAAGvJ,QAAQ,CAAC2J,aAAT,CAAuB,KAAvB,CAAd;AACAJ,EAAAA,OAAO,CAAC5I,EAAR,GAAa4F,UAAb,CAFgC,CAIhC;;AACA,MAAI+C,OAAO,GAAGtJ,QAAQ,CAAC2J,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAIC,UAAU,GAAG5J,QAAQ,CAAC2J,aAAT,CAAuB,KAAvB,CAAjB;AACAL,EAAAA,OAAO,CAACO,SAAR,GAAoB3G,IAAI,CAACyB,KAAL,CAAW2E,OAA/B;AACAM,EAAAA,UAAU,CAACC,SAAX,GAAuB3G,IAAI,CAACyB,KAAL,CAAWvB,KAAlC;AAEAmG,EAAAA,OAAO,CAACO,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0ER,OAAO,CAACQ,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIYF,UAAU,CAACE,SAJvB,GAImC,QAJnC,GAKA,QANF;AASA,SAAOP,OAAP;AAED;;AAED,SAASQ,UAAT,CAAoBrD,MAApB,EAA4B/F,EAA5B,EAAgC;AAC9B,MAAIqJ,OAAO,GAAGtD,MAAM,CAACsD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AAED,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,GAAV;;AAEA,OAAKF,CAAL,IAAUF,OAAV,EAAmB;AACjB,SAAKG,CAAL,IAAUH,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;AACvBE,MAAAA,GAAG,GAAGJ,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,EAAcC,CAAd,CAAN;;AACA,UAAIC,GAAG,KAAKzJ,EAAR,IAAe0J,KAAK,CAACC,OAAN,CAAcF,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAACG,MAAJ,GAAa,CAAd,CAAH,KAAwB5J,EAAjE,EAAsE;AACpEsJ,QAAAA,OAAO,CAAC7C,IAAR,CAAa8C,CAAb;AACD;AACF;AACF;;AAED,MAAIxD,MAAM,CAACa,MAAX,EAAmB;AACjB0C,IAAAA,OAAO,GAAGA,OAAO,CAACO,MAAR,CAAeT,UAAU,CAACrD,MAAM,CAACa,MAAR,EAAgB5G,EAAhB,CAAzB,CAAV;AACD;;AAED,SAAOsJ,OAAP;AACD;;AAED,SAASlB,QAAT,CAAkBrC,MAAlB,EAA0B2B,KAA1B,EAAiC;AAC/B,MAAI2B,OAAO,GAAGtD,MAAM,CAACsD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAIA,OAAO,CAAC3B,KAAK,CAAC1H,EAAP,CAAP,IAAqB,CAAC+F,MAAM,CAACa,MAAjC,EAAyC;AACvC,QAAIJ,EAAE,GAAG,IAAIsD,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6CpC,KAAK,CAACO,SAAN,CAAgBC,EAA7D,CAAT;AACAR,IAAAA,KAAK,CAACC,KAAN,GAAc,CAAC0B,OAAO,CAAC3B,KAAK,CAAC1H,EAAP,CAAtB;AACAqJ,IAAAA,OAAO,CAAC3B,KAAK,CAAC1H,EAAP,CAAP,GAAoB,CAACwG,EAAD,EAAKkB,KAAK,CAACqC,IAAX,CAApB;AACD,GAJD,MAIO,IAAIhE,MAAM,CAACa,MAAX,EAAmB;AACxBwB,IAAAA,QAAQ,CAACrC,MAAM,CAACa,MAAR,EAAgBc,KAAhB,CAAR;AACD;AACF;;AAED,SAASG,cAAT,CAAwB9B,MAAxB,EAAgC/F,EAAhC,EAAoC;AAClC,MAAIqJ,OAAO,GAAGtD,MAAM,CAACsD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAI,CAACA,OAAO,CAACrJ,EAAD,CAAR,IAAgB+F,MAAM,CAACa,MAA3B,EAAmC;AACjC,WAAOiB,cAAc,CAAC9B,MAAM,CAACa,MAAR,EAAgB5G,EAAhB,CAArB;AACD;;AAED,MAAI0G,aAAa,CAAC1G,EAAD,CAAjB,EAAuB;AACrB;AACD;;AACD0G,EAAAA,aAAa,CAAC1G,EAAD,CAAb,GAAoB,IAApB;AAEA,MAAIgK,MAAM,GAAGjE,MAAM,CAACkE,KAAP,CAAajK,EAAb,CAAb;AAEA2G,EAAAA,cAAc,CAACF,IAAf,CAAoB,CAACV,MAAD,EAAS/F,EAAT,CAApB;;AAEA,MAAIgK,MAAM,IAAIA,MAAM,CAAC7D,GAAjB,IAAwB6D,MAAM,CAAC7D,GAAP,CAAWE,gBAAX,CAA4BuD,MAAxD,EAAgE;AAC9D,WAAO,IAAP;AACD;;AAED,SAAOR,UAAU,CAACtB,MAAM,CAACC,aAAR,EAAuB/H,EAAvB,CAAV,CAAqCkK,IAArC,CAA0C,UAAUlK,EAAV,EAAc;AAC7D,WAAO6H,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuB/H,EAAvB,CAArB;AACD,GAFM,CAAP;AAGD;;AAED,SAASsI,YAAT,CAAsBvC,MAAtB,EAA8B/F,EAA9B,EAAkC;AAChC,MAAIgK,MAAM,GAAGjE,MAAM,CAACkE,KAAP,CAAajK,EAAb,CAAb;AACA+F,EAAAA,MAAM,CAACK,OAAP,GAAiB,EAAjB;;AACA,MAAI4D,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAAC7D,GAAP,CAAW5D,IAAX,GAAkBwD,MAAM,CAACK,OAAzB;AACD;;AAED,MAAI4D,MAAM,IAAIA,MAAM,CAAC7D,GAAjB,IAAwB6D,MAAM,CAAC7D,GAAP,CAAWG,iBAAX,CAA6BsD,MAAzD,EAAiE;AAC/DI,IAAAA,MAAM,CAAC7D,GAAP,CAAWG,iBAAX,CAA6B9H,OAA7B,CAAqC,UAAU2L,EAAV,EAAc;AACjDA,MAAAA,EAAE,CAACpE,MAAM,CAACK,OAAR,CAAF;AACD,KAFD;AAGD;;AAED,SAAOL,MAAM,CAACkE,KAAP,CAAajK,EAAb,CAAP;AACA+F,EAAAA,MAAM,CAAC/F,EAAD,CAAN;AAEAgK,EAAAA,MAAM,GAAGjE,MAAM,CAACkE,KAAP,CAAajK,EAAb,CAAT;;AACA,MAAIgK,MAAM,IAAIA,MAAM,CAAC7D,GAAjB,IAAwB6D,MAAM,CAAC7D,GAAP,CAAWE,gBAAX,CAA4BuD,MAAxD,EAAgE;AAC9DI,IAAAA,MAAM,CAAC7D,GAAP,CAAWE,gBAAX,CAA4B7H,OAA5B,CAAoC,UAAU2L,EAAV,EAAc;AAChDA,MAAAA,EAAE;AACH,KAFD;;AAGA,WAAO,IAAP;AACD;AACF","file":"lesson4.40849733.js","sourceRoot":"..","sourcesContent":["//export const file = 'https://cdn.rawgit.com/FNNDSC/data/master/nifti/adi_brain/adi_brain.nii.gz';\r\n//export const file = '..//data//adi_brain.nii.gz';\r\nexport const file = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/adi_brain.nii.gz';\r\nexport const file4 = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/training_sa_crop_pat0_transformed.nii.gz';\r\nexport const annotation = 'https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/pat10.nii.gz';\r\n\r\nexport const colors = {\r\n  red: 0xff0000,\r\n  lightGrey: 0xffffff,\r\n};\r\n\r\n\r\nexport let boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n  };\r\n/*\r\nfetch(\"..//data//box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];\r\n  gui();\r\n  generateGeometry();\r\n});\r\n*/\r\n\r\nexport const geometry = new THREE.BoxGeometry( 1, 1, 1);\r\nexport const material = new THREE.MeshBasicMaterial( {transparent: true, color:0xff0000, opacity:0.5, side: THREE.DoubleSide, wireframe: true} );\r\n\r\nexport const cube = new THREE.Mesh( geometry, material );\r\nexport const axialCube = new THREE.Mesh( geometry, material );\r\nexport const coronalCube = new THREE.Mesh( geometry, material );\r\nexport const sagittalCube = new THREE.Mesh( geometry, material );\r\n\r\nconst arrCube = [cube, axialCube, coronalCube, sagittalCube];\r\nexport function generateGeometry() {\r\n  \r\n  arrCube.forEach(function(element)\r\n  {\r\n  \telement.geometry.dispose();\r\n  \telement.geometry = new THREE.BoxGeometry( \r\n\t  boxData.width, \r\n\t  boxData.height, \r\n\t  boxData.depth, \r\n\t  boxData.widthSegments, \r\n\t  boxData.heightSegments, \r\n\t  boxData.depthSegments);\r\n\telement.rotation.x = boxData.rotateX;\r\n\telement.rotation.y = boxData.rotateY;\r\n\telement.rotation.z = boxData.rotateZ;\r\n\telement.position.x = boxData.positionX;\r\n\telement.position.y = boxData.positionY;\r\n\telement.position.z = boxData.positionZ;\r\n  });\r\n  \r\n}\r\n\r\nfunction gui() {\r\n  const gui = new dat.GUI({\r\n    autoPlace: false,\r\n  });\r\n\r\n  const customContainer = document.getElementById('main-gui-container');\r\n  customContainer.appendChild(gui.domElement);\r\n\r\n  const boxFolder = gui.addFolder( 'Box Geometry' );\r\n\r\n  boxFolder.add( boxData, 'width', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'height', 1, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depth', 1, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'widthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'heightSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'depthSegments', 1, 10 ).step( 1 ).onChange( generateGeometry );\r\n\r\n  boxFolder.add( boxData, 'rotateX', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateY', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'rotateZ', 0, 360 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData , 'positionX', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionY', -100, 100 ).onChange( generateGeometry );\r\n  boxFolder.add( boxData, 'positionZ', -100, 100 ).onChange( generateGeometry );\r\n\r\n  boxFolder.open();\r\n};\r\n\r\n\r\n","import { colors, file4, annotation, geometry, material } from '../utils.js';\r\n\r\nexport default class LessonFourPreviewCard {\r\n\r\n  constructor(id, guiId, stackHelperOrientation, cameraZoomInFactor, cameraOrientation) {\r\n    this.id = id;\r\n    this.guiId = guiId;\r\n    this.cube = new THREE.Mesh( geometry, material );\r\n    this.stackHelperOrientation = stackHelperOrientation;\r\n    this.cameraZoomInFactor = cameraZoomInFactor;\r\n    this.cameraOrientation = cameraOrientation;\r\n  }\r\n\r\n  generateGeometry(box) {\r\n\r\n    this.cube.scale.x = box.width;\r\n    this.cube.scale.y = box.height;\r\n    this.cube.scale.z = box.depth;\r\n    this.cube.rotation.x = box.rotateX * 0.01745329; // degree to radians\r\n    this.cube.rotation.y = box.rotateY * 0.01745329;\r\n    this.cube.rotation.z = box.rotateZ * 0.01745329;\r\n    this.cube.position.x = box.positionX;\r\n    this.cube.position.y = box.positionY;\r\n    this.cube.position.z = box.positionZ;\r\n  }\r\n\r\n  run() {\r\n    \r\n    // Setup renderer\r\n    const container = document.getElementById(this.id);\r\n    const renderer = new THREE.WebGLRenderer({\r\n      antialias: true,\r\n    });\r\n    renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    renderer.setClearColor(colors.lightGrey, 1);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    container.appendChild(renderer.domElement);\r\n\r\n    // Create scene\r\n    const scene = new THREE.Scene();\r\n    const scene2 = new THREE.Scene();\r\n\r\n    \r\n    scene.add(this.cube);\r\n\r\n    // Camera\r\n    const camera = new AMI.OrthographicCamera(\r\n      container.clientWidth / -2,\r\n      container.clientWidth / 2,\r\n      container.clientHeight / 2,\r\n      container.clientHeight / -2,\r\n      0.1,\r\n      10000\r\n    );\r\n\r\n    // Setup controls\r\n    const controls = new AMI.TrackballOrthoControl(camera, container);\r\n    controls.staticMoving = true;\r\n    controls.noRotate = true;\r\n    camera.controls = controls;\r\n\r\n    // Resize canvas when the window resizes\r\n    const onWindowResize = () => {\r\n      camera.canvas = {\r\n        width: container.offsetWidth,\r\n        height: container.offsetHeight,\r\n      };\r\n      camera.fitBox(2);\r\n\r\n      renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    };\r\n    window.addEventListener('resize', onWindowResize, false);\r\n\r\n    // Load image data\r\n    const loader = new AMI.VolumeLoader(container);\r\n    loader\r\n      .load(file4)\r\n      .then(() => {\r\n        const series = loader.data[0].mergeSeries(loader.data);\r\n        const stack = series[0].stack[0];\r\n        loader.free();\r\n\r\n        const stackHelper = new AMI.StackHelper(stack);\r\n        stackHelper.bbox.visible = false;\r\n        stackHelper.border.color = colors.red;\r\n        stackHelper.orientation = Number(this.stackHelperOrientation);\r\n        scene.add(stackHelper);\r\n\r\n        gui(stackHelper);\r\n\r\n        // center camera and interactor to center of bouding box\r\n        // for nicer experience\r\n        // set camera\r\n        const worldbb = stack.worldBoundingBox();\r\n        const lpsDims = new THREE.Vector3(\r\n          worldbb[1] - worldbb[0],\r\n          worldbb[3] - worldbb[2],\r\n          worldbb[5] - worldbb[4]\r\n        );\r\n\r\n        const box = {\r\n          center: stack.worldCenter().clone(),\r\n          halfDimensions: new THREE.Vector3(\r\n            lpsDims.x - this.cameraZoomInFactor, \r\n            lpsDims.y - this.cameraZoomInFactor, \r\n            lpsDims.z - this.cameraZoomInFactor),\r\n        };\r\n\r\n        // init and zoom\r\n        const canvas = {\r\n          width: container.clientWidth,\r\n          height: container.clientHeight,\r\n        };\r\n\r\n        camera.directions = [stack.xCosine, stack.yCosine, stack.zCosine];\r\n        camera.box = box;\r\n        camera.canvas = canvas;\r\n        camera.orientation = this.cameraOrientation;\r\n        camera.update();\r\n        camera.fitBox(2);\r\n      })\r\n      .catch(error => {\r\n        window.console.log('oops... something went wrong...');\r\n        window.console.log(error);\r\n      });\r\n\r\n    const loader2 = new AMI.VolumeLoader(container);\r\n    loader2\r\n      .load(annotation)\r\n      .then(() => {\r\n        const series = loader2.data[0].mergeSeries(loader.data);\r\n        const stack = series[0].stack[0];\r\n        loader2.free();\r\n\r\n        const stackHelper = new AMI.StackHelper(stack);\r\n        stackHelper.bbox.visible = false;\r\n        stackHelper.border.color = colors.red;\r\n        stackHelper.orientation = Number(this.stackHelperOrientation);\r\n        scene.add(stackHelper);\r\n\r\n        gui(stackHelper);\r\n\r\n        // center camera and interactor to center of bouding box\r\n        // for nicer experience\r\n        // set camera\r\n        const worldbb = stack.worldBoundingBox();\r\n        const lpsDims = new THREE.Vector3(\r\n          worldbb[1] - worldbb[0],\r\n          worldbb[3] - worldbb[2],\r\n          worldbb[5] - worldbb[4]\r\n        );\r\n\r\n        const box = {\r\n          center: stack.worldCenter().clone(),\r\n          halfDimensions: new THREE.Vector3(\r\n            lpsDims.x - this.cameraZoomInFactor, \r\n            lpsDims.y - this.cameraZoomInFactor, \r\n            lpsDims.z - this.cameraZoomInFactor),\r\n        };\r\n\r\n        // init and zoom\r\n        const canvas = {\r\n          width: container.clientWidth,\r\n          height: container.clientHeight,\r\n        };\r\n\r\n        camera.directions = [stack.xCosine, stack.yCosine, stack.zCosine];\r\n        camera.box = box;\r\n        camera.canvas = canvas;\r\n        camera.orientation = this.cameraOrientation;\r\n        camera.update();\r\n        camera.fitBox(2);\r\n      })\r\n      .catch(error => {\r\n        window.console.log('oops... something went wrong...');\r\n        window.console.log(error);\r\n      });\r\n\r\n\r\n    const animate = () => {\r\n      controls.update();\r\n\r\n      renderer.render(scene, camera);\r\n      //renderer.render(scene2, camera);\r\n      \r\n\r\n      requestAnimationFrame(function() {\r\n        animate();\r\n      });\r\n    };\r\n\r\n    animate();\r\n\r\n    // GUI\r\n    const gui = stackHelper => {\r\n    const gui = new dat.GUI({\r\n      autoPlace: false,\r\n    });\r\n\r\n    const customContainer = document.getElementById(this.guiId);\r\n    customContainer.appendChild(gui.domElement);\r\n    const camUtils = {\r\n      invertRows: false,\r\n      invertColumns: false,\r\n      rotate45: false,\r\n      rotate: 0,\r\n      orientation: 'axial',\r\n      convention: 'radio',\r\n    };\r\n\r\n    // camera\r\n    const cameraFolder = gui.addFolder('Camera');\r\n    const invertRows = cameraFolder.add(camUtils, 'invertRows');\r\n    invertRows.onChange(() => {\r\n      camera.invertRows();\r\n    });\r\n\r\n    const invertColumns = cameraFolder.add(camUtils, 'invertColumns');\r\n    invertColumns.onChange(() => {\r\n      camera.invertColumns();\r\n    });\r\n\r\n    const rotate45 = cameraFolder.add(camUtils, 'rotate45');\r\n    rotate45.onChange(() => {\r\n      camera.rotate();\r\n    });\r\n\r\n    cameraFolder\r\n      .add(camera, 'angle', 0, 360)\r\n      .step(1)\r\n      .listen();\r\n\r\n    const conventionUpdate = cameraFolder.add(camUtils, 'convention', ['radio', 'neuro']);\r\n    conventionUpdate.onChange(value => {\r\n      camera.convention = value;\r\n      camera.update();\r\n      camera.fitBox(2);\r\n    });\r\n\r\n    const stackFolder = gui.addFolder('Stack');\r\n    stackFolder\r\n      .add(stackHelper, 'index', 0, stackHelper.stack.dimensionsIJK.z - 1)\r\n      .step(1)\r\n      .listen();\r\n    stackFolder\r\n      .add(stackHelper.slice, 'interpolation', 0, 1)\r\n      .step(1)\r\n      .listen();\r\n\r\n  };\r\n\r\n  }\r\n}\r\n","import LessonFourPreviewCard from './LessonFourPreviewCard.js';\r\n\r\nvar boxData = {\r\n    width: 50,\r\n    height: 50,\r\n    depth: 50,\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    depthSegments: 1,\r\n    rotateX: 0,\r\n    rotateY: 0,\r\n    rotateZ: 0, \r\n    positionX: 0,\r\n    positionY: 0,\r\n    positionZ: 0\r\n};\r\n\r\nfetch(\"https://ghcdn.rawgit.org/sainitripti/visualiser/master/data/box.json\")\r\n.then(response => {\r\n   return response.json();\r\n})\r\n.then(data => {\r\n  boxData = data[\"boxData\"];   \r\n  //updateGeometries();\r\n});\r\n\r\nvar axial = new LessonFourPreviewCard(\"axial-container\", \"axial-gui-container\", \"2\", \"20\", \"axial\");\r\nvar sagittal = new LessonFourPreviewCard(\"sagittal-container\", \"sagittal-gui-container\", \"0\", \"40\", \"sagittal\");\r\nvar coronal = new LessonFourPreviewCard(\"coronal-container\", \"coronal-gui-container\", \"1\", \"25\", \"coronal\");\r\n\r\n\r\nfunction updateGeometries()\r\n{\r\n  axial.generateGeometry(boxData);\r\n  sagittal.generateGeometry(boxData);\r\n  coronal.generateGeometry(boxData);\r\n}\r\n\r\nfunction render()\r\n{ \r\n  axial.run();\r\n  sagittal.run();\r\n  coronal.run();\r\n}\r\n\r\n\r\n//updateGeometries();\r\nrender();\r\n/*\r\nconst boxId = \"l1\";\r\nvar boxGeometryPanel = new BoxGeometryPanel(boxData,boxId);\r\nboxGeometryPanel.render();\r\n\r\nfunction handleBoxGeometryChange(e)\r\n{\r\n  // Remove boxId appended at end of each Id\r\n  var property = e.target.id.slice(0,-boxId.length);\r\n  //Update boxData\r\n  boxData[property] = e.target.value;\r\n  updateGeometries();\r\n}\r\n\r\nconst boxGeometryL1 = document.getElementById(\"boxgeometry\"+boxId);\r\nconst properties = [\"width\",\"height\",\"depth\", \"rotateX\", \"rotateY\", \"rotateZ\", \"positionX\", \"positionY\", \"positionZ\"];\r\nproperties.forEach(property => document.getElementById(property+boxId)\r\n  .addEventListener(\"change\", handleBoxGeometryChange));\r\n*/","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}